import{u as le,r as m,j as e}from"./index-CThPi32I.js";function se(){const B=le(),$=m.useRef(null),[w,S]=m.useState("setup"),[I,R]=m.useState(Array(19).fill(null).map(()=>Array(19).fill(null))),[g,P]=m.useState("black"),[b,W]=m.useState("black"),[p,F]=m.useState("normal"),[y,M]=m.useState(!1),[H,C]=m.useState([]),[O,T]=m.useState(null),[J,j]=m.useState(!1),[E,L]=m.useState(null),[te,D]=m.useState([]),[k,v]=m.useState(30),[_,N]=m.useState(!1),u=19,x=43,h=51,Z=(o,r)=>r*u+o;m.useEffect(()=>{w==="playing"&&(K(),N(!0),v(30))},[I,w,E]),m.useEffect(()=>{let o;return _&&w==="playing"&&k>0&&(o=setInterval(()=>{v(r=>r<=1?(q(),30):r-1)},1e3)),()=>clearInterval(o)},[_,w,k]);const K=()=>{const o=$.current;if(!o)return;const r=o.getContext("2d");if(!r)return;r.fillStyle="#DEB887",r.fillRect(0,0,o.width,o.height),r.strokeStyle="#8B4513",r.lineWidth=1;for(let n=0;n<u;n++)r.beginPath(),r.moveTo(h+n*x,h),r.lineTo(h+n*x,h+(u-1)*x),r.stroke(),r.beginPath(),r.moveTo(h,h+n*x),r.lineTo(h+(u-1)*x,h+n*x),r.stroke();const c=[[3,3],[3,9],[3,15],[9,3],[9,9],[9,15],[15,3],[15,9],[15,15]];r.fillStyle="#8B4513",c.forEach(([n,f])=>{const d=h+f*x,l=h+n*x;r.beginPath(),r.arc(d,l,4,0,2*Math.PI),r.fill()});for(let n=0;n<u;n++)for(let f=0;f<u;f++){const d=I[n][f];if(d){const l=h+f*x,t=h+n*x,s=Math.min(21,x*.4);if(d==="black"){const a=r.createRadialGradient(l-7,t-7,0,l,t,s);a.addColorStop(0,"#666"),a.addColorStop(.2,"#444"),a.addColorStop(.5,"#222"),a.addColorStop(.8,"#111"),a.addColorStop(1,"#000"),r.beginPath(),r.arc(l,t,s,0,2*Math.PI),r.fillStyle=a,r.fill();const i=r.createRadialGradient(l-6,t-6,0,l-6,t-6,7);i.addColorStop(0,"rgba(255,255,255,0.4)"),i.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=i,r.fill()}else{const a=r.createRadialGradient(l-7,t-7,0,l,t,s);a.addColorStop(0,"#fff"),a.addColorStop(.2,"#f8f8f8"),a.addColorStop(.5,"#f0f0f0"),a.addColorStop(.8,"#e8e8e8"),a.addColorStop(1,"#ddd"),r.beginPath(),r.arc(l,t,s,0,2*Math.PI),r.fillStyle=a,r.fill();const i=r.createRadialGradient(l-6,t-6,0,l-6,t-6,7);i.addColorStop(0,"rgba(255,255,255,0.9)"),i.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=i,r.fill()}r.beginPath(),r.arc(l,t,s,0,2*Math.PI),r.strokeStyle=d==="black"?"#000":"#aaa",r.lineWidth=1.5,r.stroke()}}if(E){const n=h+E.col*x,f=h+E.row*x;r.beginPath(),r.arc(n,f,7,0,2*Math.PI),r.fillStyle="#ff4444",r.fill()}},Q=o=>{if(w!=="playing"||g!==b||y)return;const r=$.current;if(!r)return;const c=r.getBoundingClientRect(),n=o.clientX-c.left,f=o.clientY-c.top,d=Math.round((n-h)/x),l=Math.round((f-h)/x);d>=0&&d<u&&l>=0&&l<u&&!I[l][d]&&U(l,d,b)},U=(o,r,c)=>{if(!c)return;const n=I.map((l,t)=>l.map((s,a)=>t===o&&a===r?c:s));R(n),L({row:o,col:r}),v(30);const f=Z(r,o);if(C(l=>[...l,f]),X(n,o,r,c)){T(c),j(!0),S("finished"),N(!1);return}const d=c==="black"?"white":"black";P(d),d!==b&&(M(!0),setTimeout(()=>{G(n,d),M(!1)},1e3))},G=(o,r)=>{let c=null;const n=p==="easy"?20:100,f=[];for(let l=0;l<u;l++)for(let t=0;t<u;t++)if(!o[l][t]){const s=V(o,l,t,r);f.push({row:l,col:t,score:s})}f.sort((l,t)=>t.score-l.score);const d=f.slice(0,n);if(d.length>0)if(p==="easy"){const l=Math.floor(Math.random()*Math.min(5,d.length));c=d[l]}else c=d[0];if(c){const l=o.map((s,a)=>s.map((i,A)=>a===c.row&&A===c.col?r:i));R(l),L({row:c.row,col:c.col}),v(30);const t=Z(c.col,c.row);if(C(s=>[...s,t]),X(l,c.row,c.col,r)){T(r),j(!0),S("finished"),N(!1);return}P(b)}},V=(o,r,c,n)=>{let f=0;const d=n==="black"?"white":"black";if(z(o,r,c,n))return 1e4;if(z(o,r,c,d))return 5e3;const l=[[0,1],[1,0],[1,1],[1,-1]];for(const[s,a]of l){const i=ee(o,r,c,s,a,n);f+=i}const t=Math.abs(r-9)+Math.abs(c-9);return f+=Math.max(0,18-t),f},z=(o,r,c,n)=>{const f=[[0,1],[1,0],[1,1],[1,-1]];for(const[d,l]of f){let t=1;for(let s=1;s<5;s++){const a=r+d*s,i=c+l*s;if(a>=0&&a<u&&i>=0&&i<u&&o[a][i]===n)t++;else break}for(let s=1;s<5;s++){const a=r-d*s,i=c-l*s;if(a>=0&&a<u&&i>=0&&i<u&&o[a][i]===n)t++;else break}if(t>=5)return!0}return!1},ee=(o,r,c,n,f,d)=>{let l=0,t=0,s=0;for(let a=-4;a<=4;a++){const i=r+n*a,A=c+f*a;i>=0&&i<u&&A>=0&&A<u&&(a===0||o[i][A]===d?t++:o[i][A]===null?(t>0&&s++,t>=2&&(l+=t*t*s*10),t=0,s=1):(t>=2&&(l+=t*t*s*10),t=0,s=0))}return l},X=(o,r,c,n)=>{const f=[[0,1],[1,0],[1,1],[1,-1]];for(const[d,l]of f){const t=[{row:r,col:c}];for(let s=1;s<5;s++){const a=r+d*s,i=c+l*s;if(a>=0&&a<u&&i>=0&&i<u&&o[a][i]===n)t.push({row:a,col:i});else break}for(let s=1;s<5;s++){const a=r-d*s,i=c-l*s;if(a>=0&&a<u&&i>=0&&i<u&&o[a][i]===n)t.unshift({row:a,col:i});else break}if(t.length>=5)return D(t),!0}return!1},Y=()=>{const o=Array(19).fill(null).map(()=>Array(19).fill(null));R(o),P("black"),C([]),T(null),j(!1),L(null),D([]),S("playing"),v(30),N(!0),b==="white"&&(M(!0),setTimeout(()=>{G(o,"black"),M(!1)},1e3))},re=()=>{S("setup"),R(Array(19).fill(null).map(()=>Array(19).fill(null))),P("black"),C([]),T(null),j(!1),L(null),D([]),v(30),N(!1)},q=()=>{v(30),C(r=>[...r,-1]);const o=g==="black"?"white":"black";P(o),o!==b&&(M(!0),setTimeout(()=>{G(I,o),M(!1)},1e3))},oe=()=>{N(!1),C(o=>[...o,-2]),T(g==="black"?"white":"black"),j(!0),S("finished")};return e.jsxs("div",{className:"min-h-screen text-white",style:{backgroundColor:"#0b0c10"},children:[e.jsxs("header",{className:"flex items-center justify-between px-8 py-6 border-b",style:{borderColor:"#2a2a33"},children:[e.jsxs("button",{onClick:()=>B("/"),className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #1f6feb 0%, #1b4fd8 100%)",boxShadow:"0 4px 12px rgba(31, 111, 235, 0.3)"},children:e.jsx("i",{className:"ri-game-fill text-white text-xl"})}),e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Doljabi"})]}),e.jsx("h2",{className:"text-xl font-semibold",style:{color:"#e8eaf0"},children:"Ïò§Î™© AI ÎåÄÏ†Ñ"}),e.jsx("button",{onClick:()=>B("/"),className:"px-6 py-2 rounded-lg transition-all cursor-pointer whitespace-nowrap border",style:{backgroundColor:"#141822",borderColor:"#2a2a33",color:"#e8eaf0"},onMouseEnter:o=>{o.currentTarget.style.borderColor="#8ab4f8",o.currentTarget.style.color="#8ab4f8"},onMouseLeave:o=>{o.currentTarget.style.borderColor="#2a2a33",o.currentTarget.style.color="#e8eaf0"},children:"Î°úÎπÑÎ°ú"})]}),w==="setup"&&e.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-88px)] p-8",children:e.jsxs("div",{className:"rounded-2xl p-8 w-full max-w-md border",style:{backgroundColor:"rgba(22,22,28,0.6)",borderColor:"#2a2a33",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[e.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",style:{color:"#e8eaf0"},children:"Í≤åÏûÑ ÏÑ§Ï†ï"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:"#e8eaf0"},children:"Î≥¥Îìú ÌÅ¨Í∏∞"}),e.jsx("div",{className:"rounded-lg p-3 text-center border",style:{backgroundColor:"#141822",borderColor:"#2a2a33",color:"#e8eaf0"},children:"19 √ó 19 (ÌëúÏ§Ä)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:"#e8eaf0"},children:"ÎÇ¥ Îèå ÏÉâ"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:()=>W("black"),className:`p-3 rounded-lg border-2 transition-all cursor-pointer whitespace-nowrap ${b==="black"?"border-blue-500 bg-blue-500/20":""}`,style:{backgroundColor:b==="black"?"rgba(31, 111, 235, 0.2)":"#141822",borderColor:b==="black"?"#8ab4f8":"#2a2a33",color:"#e8eaf0",boxShadow:b==="black"?"0 0 0 3px rgba(138,180,248,0.25)":"none"},children:"‚ö´ ÌùëÎèå (ÏÑ†Í≥µ)"}),e.jsx("button",{onClick:()=>W("white"),className:`p-3 rounded-lg border-2 transition-all cursor-pointer whitespace-nowrap ${b==="white"?"border-blue-500 bg-blue-500/20":""}`,style:{backgroundColor:b==="white"?"rgba(31, 111, 235, 0.2)":"#141822",borderColor:b==="white"?"#8ab4f8":"#2a2a33",color:"#e8eaf0",boxShadow:b==="white"?"0 0 0 3px rgba(138,180,248,0.25)":"none"},children:"‚ö™ Î∞±Îèå (ÌõÑÍ≥µ)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:"#e8eaf0"},children:"AI ÎÇúÏù¥ÎèÑ"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:()=>F("easy"),className:`p-3 rounded-lg border-2 transition-all cursor-pointer whitespace-nowrap ${p==="easy"?"border-green-500 bg-green-500/20":""}`,style:{backgroundColor:p==="easy"?"rgba(16, 185, 129, 0.2)":"#141822",borderColor:p==="easy"?"#10b981":"#2a2a33",color:"#e8eaf0",boxShadow:p==="easy"?"0 0 0 3px rgba(16, 185, 129, 0.25)":"none"},children:"Ìïò (Ïâ¨ÏõÄ)"}),e.jsx("button",{onClick:()=>F("hard"),className:`p-3 rounded-lg border-2 transition-all cursor-pointer whitespace-nowrap ${p==="hard"?"border-red-500 bg-red-500/20":""}`,style:{backgroundColor:p==="hard"?"rgba(239, 68, 68, 0.2)":"#141822",borderColor:p==="hard"?"#ef4444":"#2a2a33",color:"#e8eaf0",boxShadow:p==="hard"?"0 0 0 3px rgba(239, 68, 68, 0.25)":"none"},children:"ÏÉÅ (Ïñ¥Î†§ÏõÄ)"})]})]}),e.jsx("button",{onClick:Y,className:"w-full py-3 rounded-lg font-semibold transition-all cursor-pointer whitespace-nowrap text-white",style:{background:"linear-gradient(180deg, #1f6feb, #1b4fd8)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:"Í≤åÏûÑ ÏãúÏûë"})]})]})}),w==="playing"&&e.jsxs("div",{className:"flex h-[calc(100vh-88px)]",children:[e.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("canvas",{ref:$,width:h*2+(u-1)*x,height:h*2+(u-1)*x,onClick:Q,className:"border rounded-lg shadow-2xl cursor-pointer",style:{backgroundColor:"#DEB887",borderColor:"#2a2a33",boxShadow:"0 20px 40px rgba(0,0,0,0.4)",cursor:y?"wait":"pointer"}}),y&&e.jsx("div",{className:"absolute inset-0 rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"px-6 py-3 rounded-lg border",style:{backgroundColor:"rgba(22,22,28,0.9)",borderColor:"#2a2a33"},children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"animate-spin w-5 h-5 border-2 rounded-full",style:{borderColor:"#8ab4f8",borderTopColor:"transparent"}}),e.jsx("span",{style:{color:"#e8eaf0"},children:"AI ÏÉùÍ∞Å Ï§ë..."})]})})})]})}),e.jsx("div",{className:"w-80 border-l p-6",style:{backgroundColor:"rgba(22,22,28,0.6)",borderColor:"#2a2a33"},children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-lg p-4 border",style:{backgroundColor:"#141822",borderColor:"#2a2a33"},children:[e.jsx("h4",{className:"font-semibold mb-2",style:{color:"#e8eaf0"},children:"ÌÉÄÏù¥Î®∏"}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:`text-3xl font-mono ${k<=10?"text-red-400":""}`,style:{color:k<=10?"#ef4444":"#e8eaf0"},children:[k,"Ï¥à"]})}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-2",children:e.jsx("div",{className:"h-2 rounded-full transition-all duration-1000",style:{width:`${k/30*100}%`,backgroundColor:k<=10?"#ef4444":"#8ab4f8"}})})]}),e.jsxs("div",{className:"rounded-lg p-4 border",style:{backgroundColor:"#141822",borderColor:"#2a2a33"},children:[e.jsx("h4",{className:"font-semibold mb-2",style:{color:"#e8eaf0"},children:"ÌòÑÏû¨ Ï∞®Î°Ä"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-2xl",children:g==="black"?"‚ö´":"‚ö™"}),e.jsx("span",{style:{color:"#e8eaf0"},children:g==="black"?"ÌùëÎèå":"Î∞±Îèå"}),g!==b&&e.jsx("span",{style:{color:"#8ab4f8"},children:"(AI)"}),g===b&&e.jsx("span",{style:{color:"#10b981"},children:"(ÎÇò)"})]}),e.jsx("div",{className:"mt-2 text-sm",style:{color:"#9aa1ad"},children:y?"AI ÏÉùÍ∞Å Ï§ë...":g===b?"ÎÇ¥ Ï∞®Î°ÄÏûÖÎãàÎã§.":"AI Ï∞®Î°ÄÏûÖÎãàÎã§."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:q,disabled:g!==b||y,className:"w-full py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap border",style:{backgroundColor:g===b&&!y?"#141822":"#0f1419",borderColor:g===b&&!y?"#2a2a33":"#1a1a1a",color:g===b&&!y?"#e8eaf0":"#9aa1ad"},onMouseEnter:o=>{g===b&&!y&&(o.currentTarget.style.borderColor="#8ab4f8",o.currentTarget.style.color="#8ab4f8")},onMouseLeave:o=>{g===b&&!y&&(o.currentTarget.style.borderColor="#2a2a33",o.currentTarget.style.color="#e8eaf0")},children:"ÏàòÎÑòÍπÄ"}),e.jsx("button",{onClick:oe,className:"w-full py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap text-white",style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.3)"},children:"Í∏∞Í∂å"}),e.jsx("button",{onClick:()=>{C(o=>[...o,-3]),alert("AIÍ∞Ä Î¨¥ÏäπÎ∂ÄÎ•º ÏàòÎùΩÌñàÏäµÎãàÎã§."),T(null),j(!0),S("finished"),N(!1)},className:"w-full py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap border",style:{backgroundColor:"#141822",borderColor:"#2a2a33",color:"#e8eaf0"},onMouseEnter:o=>{o.currentTarget.style.borderColor="#8ab4f8",o.currentTarget.style.color="#8ab4f8"},onMouseLeave:o=>{o.currentTarget.style.borderColor="#2a2a33",o.currentTarget.style.color="#e8eaf0"},children:"Î¨¥ÏäπÎ∂Ä Ï†úÏïà"})]}),e.jsxs("div",{className:"rounded-lg p-4 border",style:{backgroundColor:"#141822",borderColor:"#2a2a33"},children:[e.jsx("h4",{className:"font-semibold mb-3",style:{color:"#e8eaf0"},children:"Í≤åÏûÑ Î°úÍ∑∏"}),e.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto text-sm font-mono",children:H.map((o,r)=>{const n=r%2===0?"B":"W";return e.jsx("div",{style:{color:"#9aa1ad"},children:o===-1?`${n}(ÏàòÎÑòÍπÄ)`:o===-2?`${n}(Í∏∞Í∂å)`:o===-3?`${n}(Î¨¥ÏäπÎ∂Ä)`:`${n}(${o})`},r)})})]})]})})]}),J&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsxs("div",{className:"rounded-2xl p-8 w-full max-w-md border text-center",style:{backgroundColor:"rgba(22,22,28,0.9)",borderColor:"#2a2a33",boxShadow:"0 20px 40px rgba(0,0,0,0.4)"},children:[e.jsx("div",{className:"mb-6",children:O===null?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-6xl mb-4",children:"ü§ù"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:"#8ab4f8"},children:"Î¨¥ÏäπÎ∂Ä"}),e.jsx("p",{className:"mt-2",style:{color:"#9aa1ad"},children:"Î¨¥ÏäπÎ∂ÄÎ°ú Í≤åÏûÑÏù¥ Ï¢ÖÎ£åÎêòÏóàÏäµÎãàÎã§."})]}):O===b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-6xl mb-4",children:"üéâ"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:"#10b981"},children:"ÏäπÎ¶¨!"}),e.jsx("p",{className:"mt-2",style:{color:"#9aa1ad"},children:"Ï∂ïÌïòÌï©ÎãàÎã§! AIÎ•º Ïù¥Í≤ºÏäµÎãàÎã§."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-6xl mb-4",children:"ü§ñ"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:"#ef4444"},children:"Ìå®Î∞∞"}),e.jsx("p",{className:"mt-2",style:{color:"#9aa1ad"},children:"ÏïÑÏâΩÎÑ§Ïöî. Îã§Ïãú ÎèÑÏ†ÑÌï¥Î≥¥ÏÑ∏Ïöî!"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>{j(!1),re(),Y()},className:"w-full py-3 rounded-lg font-semibold transition-all cursor-pointer whitespace-nowrap text-white",style:{background:"linear-gradient(180deg, #1f6feb, #1b4fd8)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:"Ìïú Ìåê Îçî! üîÅ"}),e.jsx("button",{onClick:()=>B("/"),className:"w-full py-3 rounded-lg font-semibold transition-all cursor-pointer whitespace-nowrap border",style:{backgroundColor:"#141822",borderColor:"#2a2a33",color:"#e8eaf0"},onMouseEnter:o=>{o.currentTarget.style.borderColor="#8ab4f8",o.currentTarget.style.color="#8ab4f8"},onMouseLeave:o=>{o.currentTarget.style.borderColor="#2a2a33",o.currentTarget.style.color="#e8eaf0"},children:"Í∑∏ÎßåÌïòÍ∏∞ üëã"})]})]})})]})}export{se as default};
//# sourceMappingURL=page-BDcpaNii.js.map
