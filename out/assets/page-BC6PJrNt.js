import{c as u,u as g,r as f,j as e,S as p}from"./index-pndpWtMm.js";import{u as h}from"./useMutation-DbMsGQ41.js";const x=(o,s,t)=>u({url:"/api/room/create",method:"POST",headers:{"Content-Type":"application/json"},data:o,signal:t},s),b=o=>{const s=["createRoomRequest"],{mutation:t,request:c}={mutation:{mutationKey:s},request:void 0};return{mutationFn:m=>{const{data:d}=m??{};return x(d,c)},...t}},y=(o,s)=>{const t=b();return h(t)};function N(){const o=g(),s=y(),[t,c]=f.useState({main_time:600,fischer_time:10,overtime:30,remaining_overtime:3}),i=(a,r)=>{c(n=>({...n,[a]:r}))},m=async()=>{try{const a=p.getSessionKey();if(!a){alert("로그인이 필요합니다."),o("/login");return}const r={game_type:"omok",game_config:t},n=await s.mutateAsync({data:r}),l={enter_code:n.enter_code,session_key:a,game_config:t};localStorage.setItem("omok_room_data",JSON.stringify(l)),console.log("방 생성 성공:",n),o("/omok/game-room",{state:l})}catch(a){console.error("방 생성 실패:",a),alert("방 생성에 실패했습니다.")}},d=a=>{const r=Math.floor(a/3600),n=Math.floor(a%3600/60),l=a%60;return r>0?`${r}시간 ${n}분`:n>0?`${n}분`:`${l}초`};return e.jsx("div",{className:"min-h-screen text-white p-8",style:{backgroundColor:"#0b0c10"},children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:"#e8eaf0"},children:"오목 방 만들기"}),e.jsx("p",{style:{color:"#9aa1ad"},children:"게임 설정을 조정하고 방을 생성하세요"})]}),e.jsxs("div",{className:"rounded-xl p-6 border mb-6",style:{backgroundColor:"rgba(22,22,28,0.6)",borderColor:"#2a2a33"},children:[e.jsx("h3",{className:"text-xl font-bold mb-6",style:{color:"#e8eaf0"},children:"게임 설정"}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",style:{color:"#8ab4f8"},children:"기본 시간 설정"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{style:{color:"#9aa1ad"},children:"메인 시간"}),e.jsx("span",{className:"font-mono font-semibold",style:{color:"#e8eaf0"},children:d(t.main_time)})]}),e.jsx("input",{type:"range",min:"0",max:"3600",step:"60",value:t.main_time,onChange:a=>i("main_time",parseInt(a.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #1f6feb 0%, #1f6feb ${t.main_time/3600*100}%, #2a2a33 ${t.main_time/3600*100}%, #2a2a33 100%)`}})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{style:{color:"#9aa1ad"},children:"피셔 시간"}),e.jsxs("span",{className:"font-mono font-semibold",style:{color:"#e8eaf0"},children:[t.fischer_time,"초"]})]}),e.jsx("input",{type:"range",min:"0",max:"60",step:"1",value:t.fischer_time,onChange:a=>i("fischer_time",parseInt(a.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #1f6feb 0%, #1f6feb ${t.fischer_time/60*100}%, #2a2a33 ${t.fischer_time/60*100}%, #2a2a33 100%)`}})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",style:{color:"#8ab4f8"},children:"초읽기 설정"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{style:{color:"#9aa1ad"},children:"초읽기 시간"}),e.jsxs("span",{className:"font-mono font-semibold",style:{color:"#e8eaf0"},children:[t.overtime,"초"]})]}),e.jsx("input",{type:"range",min:"0",max:"300",step:"1",value:t.overtime,onChange:a=>i("overtime",parseInt(a.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #1f6feb 0%, #1f6feb ${t.overtime/300*100}%, #2a2a33 ${t.overtime/300*100}%, #2a2a33 100%)`}})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{style:{color:"#9aa1ad"},children:"초읽기 횟수"}),e.jsxs("span",{className:"font-mono font-semibold",style:{color:"#e8eaf0"},children:[t.remaining_overtime,"회"]})]}),e.jsx("input",{type:"range",min:"0",max:"10",step:"1",value:t.remaining_overtime,onChange:a=>i("remaining_overtime",parseInt(a.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #1f6feb 0%, #1f6feb ${t.remaining_overtime/10*100}%, #2a2a33 ${t.remaining_overtime/10*100}%, #2a2a33 100%)`}})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("button",{onClick:()=>o(-1),className:"px-8 py-4 rounded-lg font-semibold transition-all cursor-pointer whitespace-nowrap border",style:{backgroundColor:"#141822",borderColor:"#2a2a33",color:"#e8eaf0"},onMouseEnter:a=>{a.currentTarget.style.borderColor="#ef4444",a.currentTarget.style.color="#ef4444"},onMouseLeave:a=>{a.currentTarget.style.borderColor="#2a2a33",a.currentTarget.style.color="#e8eaf0"},children:"취소"}),e.jsx("button",{onClick:m,disabled:s.isPending,className:"px-8 py-4 rounded-lg font-semibold transition-all cursor-pointer whitespace-nowrap text-white text-lg",style:{background:s.isPending?"#2a2a33":"linear-gradient(180deg, #1f6feb, #1b4fd8)",boxShadow:s.isPending?"none":"0 2px 8px rgba(0,0,0,0.3)",opacity:s.isPending?.5:1,cursor:s.isPending?"not-allowed":"pointer"},children:s.isPending?"방 생성 중...":"방 만들기"})]}),s.isError&&e.jsx("div",{className:"mt-4 p-4 rounded-lg text-center",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444"},children:"방 생성에 실패했습니다. 다시 시도해주세요."})]})})}export{N as default};
//# sourceMappingURL=page-BC6PJrNt.js.map
