import{u as N,a as w,r as c,j as e}from"./index-DJxcKVzD.js";function T(){const h=N(),r=w().state,[x]=c.useState(()=>r?.roomCode||Math.random().toString(36).substring(2,8).toUpperCase()),[o]=c.useState(r?.isHost!==!1),[l,y]=c.useState(()=>r?.opponent?[{id:1,nickname:"나",rating:1500,color:"black",ready:!1},{id:2,nickname:r.opponent.nickname,rating:r.opponent.rating,color:"white",ready:!0}]:o?[{id:1,nickname:"나",rating:1500,color:"black",ready:!1},{id:2,nickname:"대기 중...",rating:0,color:"white",ready:!1}]:[{id:1,nickname:"방장",rating:1550,color:"black",ready:!0},{id:2,nickname:"나",rating:1500,color:"white",ready:!1}]),[s,b]=c.useState({gameType:"baduk",mainTime:10800,additionalTime:5,byoyomiTime:60,byoyomiCount:3,useMainTime:!0,useAdditionalTime:!0,useByoyomiTime:!0,useByoyomiCount:!0});c.useEffect(()=>{if(o&&l[1].nickname==="대기 중..."&&!r?.opponent){const a=setTimeout(()=>{y(t=>[t[0],{id:2,nickname:"친구플레이어",rating:1480,color:"white",ready:!1}])},5e3);return()=>clearTimeout(a)}},[o,l,r]);const p=()=>{const a=o?1:2;y(t=>t.map(i=>i.id===a?{...i,ready:!i.ready}:i))},g=()=>{h("/baduk/game-room",{state:{gameSettings:s,players:l,roomCode:x,isHost:o,hasOpponent:l[1].nickname!=="대기 중..."}})},j=()=>{h("/")},v=()=>{navigator.clipboard.writeText(x)},d=a=>{o&&b(t=>({...t,[a]:!t[a]}))},m=(a,t)=>{(o||r?.opponent)&&b(i=>({...i,[a]:t}))},f=l.every(a=>a.ready)&&l[1].nickname!=="대기 중...",n=o||r?.opponent,u=l[1].nickname!=="대기 중...";return e.jsx("div",{className:"min-h-screen text-white p-8",style:{backgroundColor:"#0b0c10"},children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:"#e8eaf0"},children:"바둑 대기실"}),e.jsx("p",{style:{color:"#9aa1ad"},children:"게임 설정을 조정하고 대국을 시작하세요"})]}),e.jsxs("div",{className:"flex gap-8",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"rounded-xl p-6 border mb-6",style:{backgroundColor:"rgba(22,22,28,0.6)",borderColor:"#2a2a33"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm mb-1",style:{color:"#9aa1ad"},children:"방 입장 코드"}),e.jsx("div",{className:"text-2xl font-bold tracking-wider",style:{color:"#e8eaf0"},children:x})]}),e.jsxs("button",{onClick:v,className:"px-6 py-3 rounded-lg font-semibold transition-all cursor-pointer whitespace-nowrap flex items-center space-x-2 border",style:{backgroundColor:"#141822",borderColor:"#2a2a33",color:"#e8eaf0"},onMouseEnter:a=>{a.currentTarget.style.borderColor="#8ab4f8",a.currentTarget.style.color="#8ab4f8"},onMouseLeave:a=>{a.currentTarget.style.borderColor="#2a2a33",a.currentTarget.style.color="#e8eaf0"},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[e.jsx("path",{d:"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"}),e.jsx("path",{d:"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"})]}),e.jsx("span",{children:"복사"})]})]})}),u&&e.jsxs("div",{className:"rounded-xl p-6 border mb-6",style:{backgroundColor:"rgba(22,22,28,0.6)",borderColor:"#2a2a33"},children:[e.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:"#e8eaf0"},children:"플레이어"}),e.jsx("div",{className:"space-y-4",children:l.map((a,t)=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"#141822"},children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:a.color==="black"?"#1a1a1a":"#f5f5f5",border:"2px solid",borderColor:a.color==="black"?"#333":"#ddd"},children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("circle",{cx:"12",cy:"12",r:"10",fill:a.color==="black"?"#000":"#fff"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",style:{color:"#e8eaf0"},children:a.nickname}),a.rating>0&&e.jsxs("div",{className:"text-sm",style:{color:"#9aa1ad"},children:["레이팅: ",a.rating]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:a.color==="black"?"#1a1a1a":"#f5f5f5",color:a.color==="black"?"#fff":"#000"},children:a.color==="black"?"흑":"백"}),a.nickname!=="대기 중..."&&e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a.ready?"bg-green-600 text-white":"bg-gray-600 text-gray-300"}`,children:a.ready?"준비완료":"대기중"})]})]},a.id))}),e.jsx("button",{onClick:p,className:"w-full mt-4 py-3 rounded-lg font-semibold transition-all cursor-pointer whitespace-nowrap",style:{backgroundColor:l.find(a=>a.id===(o?1:2))?.ready?"#dc2626":"#16a34a",color:"#ffffff"},children:l.find(a=>a.id===(o?1:2))?.ready?"준비 취소":"준비 완료"})]}),e.jsxs("div",{className:"rounded-xl p-6 border mb-6",style:{backgroundColor:"rgba(22,22,28,0.6)",borderColor:"#2a2a33"},children:[e.jsx("h3",{className:"text-xl font-bold mb-6",style:{color:"#e8eaf0"},children:"게임 설정"}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",style:{color:"#8ab4f8"},children:"기본 시간 설정"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.useMainTime,onChange:()=>d("useMainTime"),disabled:!n,className:"w-4 h-4 cursor-pointer",style:{cursor:n?"pointer":"not-allowed"}}),e.jsx("span",{style:{color:"#9aa1ad"},children:"메인 시간"})]}),e.jsxs("span",{className:"font-mono font-semibold",style:{color:"#e8eaf0"},children:[Math.floor(s.mainTime/60),"분"]})]}),s.useMainTime&&e.jsx("input",{type:"range",min:"0",max:"28800",step:"60",value:s.mainTime,onChange:a=>m("mainTime",parseInt(a.target.value)),disabled:!n,className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #1f6feb 0%, #1f6feb ${s.mainTime/28800*100}%, #2a2a33 ${s.mainTime/28800*100}%, #2a2a33 100%)`,cursor:n?"pointer":"not-allowed"}})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.useAdditionalTime,onChange:()=>d("useAdditionalTime"),disabled:!n,className:"w-4 h-4 cursor-pointer",style:{cursor:n?"pointer":"not-allowed"}}),e.jsx("span",{style:{color:"#9aa1ad"},children:"추가 시간"})]}),e.jsxs("span",{className:"font-mono font-semibold",style:{color:"#e8eaf0"},children:[s.additionalTime,"초"]})]}),s.useAdditionalTime&&e.jsx("input",{type:"range",min:"0",max:"60",step:"1",value:s.additionalTime,onChange:a=>m("additionalTime",parseInt(a.target.value)),disabled:!n,className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #1f6feb 0%, #1f6feb ${s.additionalTime/60*100}%, #2a2a33 ${s.additionalTime/60*100}%, #2a2a33 100%)`,cursor:n?"pointer":"not-allowed"}})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",style:{color:"#8ab4f8"},children:"초읽기 설정"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.useByoyomiTime,onChange:()=>d("useByoyomiTime"),disabled:!n,className:"w-4 h-4 cursor-pointer",style:{cursor:n?"pointer":"not-allowed"}}),e.jsx("span",{style:{color:"#9aa1ad"},children:"초읽기 시간"})]}),e.jsxs("span",{className:"font-mono font-semibold",style:{color:"#e8eaf0"},children:[s.byoyomiTime,"초"]})]}),s.useByoyomiTime&&e.jsx("input",{type:"range",min:"0",max:"300",step:"1",value:s.byoyomiTime,onChange:a=>m("byoyomiTime",parseInt(a.target.value)),disabled:!n,className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #1f6feb 0%, #1f6feb ${s.byoyomiTime/300*100}%, #2a2a33 ${s.byoyomiTime/300*100}%, #2a2a33 100%)`,cursor:n?"pointer":"not-allowed"}})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.useByoyomiCount,onChange:()=>d("useByoyomiCount"),disabled:!n,className:"w-4 h-4 cursor-pointer",style:{cursor:n?"pointer":"not-allowed"}}),e.jsx("span",{style:{color:"#9aa1ad"},children:"초읽기 횟수"})]}),e.jsxs("span",{className:"font-mono font-semibold",style:{color:"#e8eaf0"},children:[s.byoyomiCount,"회"]})]}),s.useByoyomiCount&&e.jsx("input",{type:"range",min:"0",max:"10",step:"1",value:s.byoyomiCount,onChange:a=>m("byoyomiCount",parseInt(a.target.value)),disabled:!n,className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #1f6feb 0%, #1f6feb ${s.byoyomiCount/10*100}%, #2a2a33 ${s.byoyomiCount/10*100}%, #2a2a33 100%)`,cursor:n?"pointer":"not-allowed"}})]})]})]})]})]})]}),e.jsxs("div",{className:"w-80 space-y-4",children:[e.jsxs("div",{className:"rounded-xl p-6 border text-center",style:{backgroundColor:"rgba(22,22,28,0.6)",borderColor:"#2a2a33"},children:[e.jsx("div",{className:"text-2xl font-bold mb-2",style:{color:"#e8eaf0"},children:u?f?"대국 준비 완료!":"플레이어 준비중...":"플레이어 대기중..."}),e.jsx("p",{className:"text-sm",style:{color:"#9aa1ad"},children:u?f?"모든 플레이어가 준비되었습니다":"모든 플레이어의 준비를 기다리고 있습니다":"다른 플레이어가 입장할 때까지 기다려주세요"})]}),e.jsxs("div",{className:"rounded-xl p-6 border",style:{backgroundColor:"rgba(22,22,28,0.6)",borderColor:"#2a2a33"},children:[e.jsx("h4",{className:"text-lg font-bold mb-4",style:{color:"#e8eaf0"},children:"게임 설정 요약"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[s.useMainTime&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#9aa1ad"},children:"메인 시간:"}),e.jsxs("span",{style:{color:"#e8eaf0"},children:[Math.floor(s.mainTime/60),"분"]})]}),s.useAdditionalTime&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#9aa1ad"},children:"추가 시간:"}),e.jsxs("span",{style:{color:"#e8eaf0"},children:[s.additionalTime,"초"]})]}),s.useByoyomiTime&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#9aa1ad"},children:"초읽기 시간:"}),e.jsxs("span",{style:{color:"#e8eaf0"},children:[s.byoyomiTime,"초"]})]}),s.useByoyomiCount&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#9aa1ad"},children:"초읽기 횟수:"}),e.jsxs("span",{style:{color:"#e8eaf0"},children:[s.byoyomiCount,"회"]})]})]})]}),e.jsx("button",{onClick:g,disabled:!o,className:"w-full py-4 rounded-lg font-semibold transition-all cursor-pointer whitespace-nowrap text-white text-lg",style:{background:o?"linear-gradient(180deg, #1f6feb, #1b4fd8)":"#2a2a33",boxShadow:o?"0 2px 8px rgba(0,0,0,0.3)":"none",opacity:o?1:.5,cursor:o?"pointer":"not-allowed"},children:o?"게임 시작하기":"방장만 시작 가능"}),e.jsx("button",{onClick:j,className:"w-full py-3 rounded-lg font-semibold transition-all cursor-pointer whitespace-nowrap border",style:{backgroundColor:"#141822",borderColor:"#2a2a33",color:"#e8eaf0"},onMouseEnter:a=>{a.currentTarget.style.borderColor="#ef4444",a.currentTarget.style.color="#ef4444"},onMouseLeave:a=>{a.currentTarget.style.borderColor="#2a2a33",a.currentTarget.style.color="#e8eaf0"},children:"방 나가기"})]})]})]})})}export{T as default};
//# sourceMappingURL=page-BsSElYLi.js.map
