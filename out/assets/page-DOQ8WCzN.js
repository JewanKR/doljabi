import{u as z,r as x,j as e}from"./index-CThPi32I.js";function J(){const L=z(),[m]=x.useState(19),[y,$]=x.useState(Array(19).fill(null).map(()=>Array(19).fill(null))),[a,j]=x.useState("black"),[c,w]=x.useState(null),[o]=x.useState("black"),[v,B]=x.useState({black:{nickname:"플레이어1",rating:1850,color:"black",mainTime:1800,byoyomiTime:30,byoyomiCount:3},white:{nickname:"플레이어2",rating:1720,color:"white",mainTime:1800,byoyomiTime:30,byoyomiCount:3}}),[N]=x.useState({black:1800,white:1800}),[d,M]=x.useState({black:!1,white:!1}),g=x.useRef(null);x.useEffect(()=>(g.current=setInterval(()=>{B(r=>{const s={...r},l=s[a];return l.mainTime>0?(l.mainTime-=1,l.mainTime===0&&M(n=>({...n,[a]:!0}))):l.byoyomiTime>0&&(l.byoyomiTime-=1,l.byoyomiTime===0&&l.byoyomiCount>0&&(l.byoyomiCount-=1,l.byoyomiTime=30)),s})},1e3),()=>{g.current&&clearInterval(g.current)}),[a]);const p=r=>{const s=Math.floor(r/3600),l=Math.floor(r%3600/60),n=r%60;return`${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}:${String(n).padStart(2,"0")}`},k=(r,s)=>Math.max(0,Math.min(100,r/s*100)),C=r=>r>50?"#10b981":r>20?"#f59e0b":"#ef4444",P=(r,s)=>{y[r][s]===null&&w({row:r,col:s})},R=()=>{if(a!==o)return;if(!c){alert("착수할 위치를 선택해주세요.");return}const{row:r,col:s}=c;if(y[r][s]!==null){alert("이미 돌이 놓인 위치입니다.");return}const n={sessionKey:"example-session-key",roomNumber:"BADUK-2024",move:"place",coordinate:r*19+s};console.log("서버로 전송:",JSON.stringify(n));const u=y.map(h=>[...h]);u[r][s]=a,$(u),j(h=>h==="black"?"white":"black"),w(null)},E=()=>{if(a!==o)return;console.log("서버로 전송:",JSON.stringify({sessionKey:"example-session-key",roomNumber:"BADUK-2024",move:"pass",coordinate:-1})),j(s=>s==="black"?"white":"black")},D=()=>{confirm("정말 기권하시겠습니까?")&&L("/")},A=()=>{a===o&&alert("무승부 신청이 상대방에게 전송되었습니다.")},i=a===o,b=v[o],t=o==="black"?"white":"black",f=v[t],T=k(b.mainTime,N[o]),S=k(f.mainTime,N[t]);return e.jsxs("div",{className:"min-h-screen text-white",style:{backgroundColor:"#0b0c10"},children:[e.jsxs("header",{className:"flex items-center justify-between px-8 py-4 border-b",style:{borderColor:"#2a2a33"},children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #1f6feb 0%, #1b4fd8 100%)",boxShadow:"0 4px 12px rgba(31, 111, 235, 0.3)"},children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"10",cy:"10",r:"8",fill:"white",opacity:"0.9"}),e.jsx("circle",{cx:"10",cy:"10",r:"5",fill:"black",opacity:"0.8"})]})}),e.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Doljabi"})]}),e.jsx("div",{className:"text-lg font-semibold",style:{color:"#e8eaf0"},children:"바둑 대국"}),e.jsx("button",{disabled:!0,className:"px-4 py-2 rounded-lg font-semibold transition-all whitespace-nowrap border",style:{backgroundColor:"#141822",borderColor:"#2a2a33",color:"#9aa1ad",opacity:.5,cursor:"not-allowed"},children:"방 설정"})]}),e.jsxs("div",{className:"flex items-start justify-center min-h-[calc(100vh-72px)] p-6 gap-4",children:[e.jsxs("div",{className:"w-64 flex flex-col h-[calc(100vh-120px)]",children:[e.jsxs("div",{className:`flex-1 rounded-xl p-4 border mb-2 ${a===o?"ring-2 ring-blue-500":""}`,style:{backgroundColor:"rgba(22,22,28,0.6)",borderColor:a===o?"#1f6feb":"#2a2a33",boxShadow:a===o?"0 0 20px rgba(31, 111, 235, 0.3)":"0 4px 16px rgba(0,0,0,0.3)"},children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:o==="black"?"#1a1a1a":"#f5f5f5",border:"2px solid",borderColor:o==="black"?"#333":"#ddd",boxShadow:o==="black"?"0 2px 8px rgba(0,0,0,0.5)":"0 2px 8px rgba(255,255,255,0.3)"},children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",fill:o==="black"?"#000":"#fff"}),o==="white"&&e.jsx("circle",{cx:"9",cy:"9",r:"3",fill:"rgba(0,0,0,0.1)"})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold",style:{color:"#e8eaf0"},children:b.nickname}),e.jsxs("div",{className:"text-sm flex items-center space-x-1",children:[e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M6 1L7 4L10 4.5L7.5 6.5L8 9.5L6 8L4 9.5L4.5 6.5L2 4.5L5 4L6 1Z",fill:"#f59e0b"})}),e.jsx("span",{style:{color:"#9aa1ad"},children:b.rating})]})]})]}),e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"h-2 rounded-full overflow-hidden",style:{backgroundColor:"#141822"},children:e.jsx("div",{className:"h-full transition-all duration-1000",style:{width:`${T}%`,backgroundColor:C(T)}})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 rounded",style:{backgroundColor:"#141822"},children:[e.jsx("span",{className:"text-sm",style:{color:"#9aa1ad"},children:"메인 시간"}),e.jsx("span",{className:`font-mono font-bold ${d[o]?"text-red-500":""}`,style:{color:d[o]?"#ef4444":"#e8eaf0"},children:p(b.mainTime)})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded",style:{backgroundColor:"#141822"},children:[e.jsx("span",{className:"text-sm",style:{color:"#9aa1ad"},children:"초읽기"}),e.jsx("span",{className:`font-mono font-bold ${d[o]?"text-red-500":""}`,style:{color:d[o]?"#ef4444":"#9aa1ad"},children:p(b.byoyomiTime)})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded",style:{backgroundColor:"#141822"},children:[e.jsx("span",{className:"text-sm",style:{color:"#9aa1ad"},children:"남은 횟수"}),e.jsxs("span",{className:`font-mono font-bold ${d[o]?"text-red-500":""}`,style:{color:d[o]?"#ef4444":"#9aa1ad"},children:[b.byoyomiCount,"회"]})]})]})]}),e.jsxs("div",{className:`flex-1 rounded-xl p-4 border ${a===t?"ring-2 ring-blue-500":""}`,style:{backgroundColor:"rgba(22,22,28,0.6)",borderColor:a===t?"#1f6feb":"#2a2a33",boxShadow:a===t?"0 0 20px rgba(31, 111, 235, 0.3)":"0 4px 16px rgba(0,0,0,0.3)"},children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:t==="black"?"#1a1a1a":"#f5f5f5",border:"2px solid",borderColor:t==="black"?"#333":"#ddd",boxShadow:t==="black"?"0 2px 8px rgba(0,0,0,0.5)":"0 2px 8px rgba(255,255,255,0.3)"},children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",fill:t==="black"?"#000":"#fff"}),t==="white"&&e.jsx("circle",{cx:"9",cy:"9",r:"3",fill:"rgba(0,0,0,0.1)"})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold",style:{color:"#e8eaf0"},children:f.nickname}),e.jsxs("div",{className:"text-sm flex items-center space-x-1",children:[e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M6 1L7 4L10 4.5L7.5 6.5L8 9.5L6 8L4 9.5L4.5 6.5L2 4.5L5 4L6 1Z",fill:"#f59e0b"})}),e.jsx("span",{style:{color:"#9aa1ad"},children:f.rating})]})]})]}),e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"h-2 rounded-full overflow-hidden",style:{backgroundColor:"#141822"},children:e.jsx("div",{className:"h-full transition-all duration-1000",style:{width:`${S}%`,backgroundColor:C(S)}})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 rounded",style:{backgroundColor:"#141822"},children:[e.jsx("span",{className:"text-sm",style:{color:"#9aa1ad"},children:"메인 시간"}),e.jsx("span",{className:`font-mono font-bold ${d[t]?"text-red-500":""}`,style:{color:d[t]?"#ef4444":"#e8eaf0"},children:p(f.mainTime)})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded",style:{backgroundColor:"#141822"},children:[e.jsx("span",{className:"text-sm",style:{color:"#9aa1ad"},children:"초읽기"}),e.jsx("span",{className:`font-mono font-bold ${d[t]?"text-red-500":""}`,style:{color:d[t]?"#ef4444":"#9aa1ad"},children:p(f.byoyomiTime)})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded",style:{backgroundColor:"#141822"},children:[e.jsx("span",{className:"text-sm",style:{color:"#9aa1ad"},children:"남은 횟수"}),e.jsxs("span",{className:`font-mono font-bold ${d[t]?"text-red-500":""}`,style:{color:d[t]?"#ef4444":"#9aa1ad"},children:[f.byoyomiCount,"회"]})]})]})]})]}),e.jsx("div",{className:"flex-1 max-w-4xl",children:e.jsx("div",{className:"rounded-2xl p-6 border",style:{backgroundColor:"rgba(22,22,28,0.6)",borderColor:"#2a2a33",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:e.jsxs("div",{className:"aspect-square rounded-xl p-8 relative",style:{background:"linear-gradient(135deg, #d4a574 0%, #c89968 100%)",boxShadow:"inset 0 2px 8px rgba(0,0,0,0.2)"},children:[e.jsx("div",{className:"absolute inset-8 grid gap-0",style:{gridTemplateColumns:`repeat(${m-1}, 1fr)`,gridTemplateRows:`repeat(${m-1}, 1fr)`},children:Array.from({length:m-1}).map((r,s)=>Array.from({length:m-1}).map((l,n)=>e.jsx("div",{className:"relative",style:{borderRight:n<m-2?"1px solid rgba(0,0,0,0.3)":"none",borderBottom:s<m-2?"1px solid rgba(0,0,0,0.3)":"none"}},`grid-${s}-${n}`)))}),e.jsx("div",{className:"absolute inset-8 pointer-events-none",style:{border:"1px solid rgba(0,0,0,0.3)"}}),e.jsx("div",{className:"absolute inset-8",children:y.map((r,s)=>r.map((l,n)=>{const u=100/(m-1),h=`${s*u}%`,K=`${n*u}%`;return e.jsxs("div",{onClick:()=>P(s,n),className:"absolute cursor-pointer flex items-center justify-center",style:{top:h,left:K,width:"5%",height:"5%",transform:"translate(-50%, -50%)",backgroundColor:c?.row===s&&c?.col===n?"rgba(31, 111, 235, 0.4)":"transparent",borderRadius:"50%",zIndex:10},children:[!l&&(s===3||s===9||s===15)&&(n===3||n===9||n===15)&&e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"rgba(0,0,0,0.5)",pointerEvents:"none"}}),l&&e.jsx("div",{className:"rounded-full flex items-center justify-center",style:{width:"100%",height:"100%",backgroundColor:l==="black"?"#1a1a1a":"#f5f5f5",border:l==="black"?"2px solid #000":"2px solid #ddd",boxShadow:l==="black"?"0 2px 6px rgba(0,0,0,0.6)":"0 2px 6px rgba(0,0,0,0.3)",pointerEvents:"none"},children:e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"16",cy:"16",r:"14",fill:l==="black"?"#000":"#fff"}),l==="white"&&e.jsx("circle",{cx:"12",cy:"12",r:"4",fill:"rgba(0,0,0,0.1)"})]})})]},`stone-${s}-${n}`)}))})]})})}),e.jsxs("div",{className:"w-64 space-y-4",children:[e.jsxs("div",{className:"rounded-xl p-4 border",style:{backgroundColor:"rgba(22,22,28,0.6)",borderColor:"#2a2a33",boxShadow:"0 4px 16px rgba(0,0,0,0.3)"},children:[e.jsx("div",{className:"text-sm mb-2",style:{color:"#9aa1ad"},children:"선택된 위치"}),e.jsx("div",{className:"text-2xl font-mono font-bold text-center p-3 rounded",style:{backgroundColor:"#141822",color:"#8ab4f8"},children:c?`${c.row*19+c.col}`:"미선택"})]}),e.jsx("button",{onClick:R,disabled:!c||!i,className:"w-full py-4 rounded-lg font-semibold transition-all whitespace-nowrap text-white text-lg",style:{background:c&&i?"linear-gradient(180deg, #1f6feb, #1b4fd8)":"#2a2a33",boxShadow:c&&i?"0 2px 8px rgba(0,0,0,0.3)":"none",opacity:c&&i?1:.5,cursor:c&&i?"pointer":"not-allowed"},children:"착수하기"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:E,disabled:!i,className:"w-full py-3 rounded-lg font-semibold transition-all cursor-pointer whitespace-nowrap border",style:{backgroundColor:"#141822",borderColor:"#2a2a33",color:"#e8eaf0",opacity:i?1:.5,cursor:i?"pointer":"not-allowed"},onMouseEnter:r=>{i&&(r.currentTarget.style.borderColor="#8ab4f8",r.currentTarget.style.color="#8ab4f8")},onMouseLeave:r=>{r.currentTarget.style.borderColor="#2a2a33",r.currentTarget.style.color="#e8eaf0"},children:"수 넘김"}),e.jsx("button",{onClick:A,disabled:!i,className:"w-full py-3 rounded-lg font-semibold transition-all cursor-pointer whitespace-nowrap border",style:{backgroundColor:"#141822",borderColor:"#2a2a33",color:"#e8eaf0",opacity:i?1:.5,cursor:i?"pointer":"not-allowed"},onMouseEnter:r=>{i&&(r.currentTarget.style.borderColor="#f59e0b",r.currentTarget.style.color="#f59e0b")},onMouseLeave:r=>{r.currentTarget.style.borderColor="#2a2a33",r.currentTarget.style.color="#e8eaf0"},children:"무승부 신청"}),e.jsx("button",{onClick:D,className:"w-full py-3 rounded-lg font-semibold transition-all cursor-pointer whitespace-nowrap border",style:{backgroundColor:"#141822",borderColor:"#2a2a33",color:"#e8eaf0"},onMouseEnter:r=>{r.currentTarget.style.borderColor="#ef4444",r.currentTarget.style.color="#ef4444"},onMouseLeave:r=>{r.currentTarget.style.borderColor="#2a2a33",r.currentTarget.style.color="#e8eaf0"},children:"기권"})]}),e.jsxs("div",{className:"rounded-xl p-4 border text-center",style:{backgroundColor:"rgba(22,22,28,0.6)",borderColor:"#2a2a33",boxShadow:"0 4px 16px rgba(0,0,0,0.3)"},children:[e.jsx("div",{className:"text-sm mb-2",style:{color:"#9aa1ad"},children:"현재 차례"}),e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:a==="black"?"#1a1a1a":"#f5f5f5",border:"2px solid",borderColor:a==="black"?"#000":"#ddd"},children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("circle",{cx:"8",cy:"8",r:"7",fill:a==="black"?"#000":"#fff"})})}),e.jsx("span",{className:"text-xl font-bold",style:{color:"#e8eaf0"},children:a==="black"?"흑":"백"})]})]})]})]})]})}export{J as default};
//# sourceMappingURL=page-DOQ8WCzN.js.map
