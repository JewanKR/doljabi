{"version":3,"file":"page-OyUJMzim.js","sources":["../../src/pages/baduk/single-play/page.tsx"],"sourcesContent":["import { useState, useRef, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\ntype Stone = 'black' | 'white' | null;\ntype Board = Stone[][];\ntype GameState = 'playing' | 'finished' | 'setup';\ntype Difficulty = 'easy' | 'normal' | 'hard';\ntype BoardSize = 9 | 13 | 19;\n\nexport default function BadukSinglePlay() {\n  const navigate = useNavigate();\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const [gameState, setGameState] = useState<GameState>('setup');\n  const [boardSize, setBoardSize] = useState<BoardSize>(19);\n  const [board, setBoard] = useState<Board>(\n    Array(19)\n      .fill(null)\n      .map(() => Array(19).fill(null))\n  );\n  const [currentPlayer, setCurrentPlayer] = useState<Stone>('black');\n  const [playerColor, setPlayerColor] = useState<Stone>('black');\n  const [gameLog, setGameLog] = useState<number[]>([]);\n  const [capturedStones, setCapturedStones] = useState({ black: 0, white: 0 });\n  const [winner, setWinner] = useState<Stone>(null);\n  const [showResult, setShowResult] = useState(false);\n  const [passCount, setPassCount] = useState(0);\n  const [lastMove, setLastMove] = useState<{ row: number; col: number } | null>(null);\n  const [difficulty, setDifficulty] = useState<Difficulty>('normal');\n  const [timeLeft, setTimeLeft] = useState(30);\n  const [isTimerActive, setIsTimerActive] = useState(false);\n  const [isAiThinking, setIsAiThinking] = useState(false);\n  const [showDrawOffer, setShowDrawOffer] = useState(false);\n  const [drawOffered, setDrawOffered] = useState(false);\n\n  const CELL_SIZE = boardSize === 9 ? 60 : boardSize === 13 ? 50 : 43;\n  const BOARD_PADDING = 51;\n\n  // Ïä§ÌÉÄÏùº ÏÉÅÏàò Ï†ïÏùò\n  const BACKGROUND_COLOR = '#0b0c10';\n  const BORDER_COLOR = '#2a2a33';\n  const CARD_BACKGROUND_COLOR = 'rgba(22,22,28,0.6)';\n  const BUTTON_BACKGROUND_COLOR = '#141822';\n  const TEXT_COLOR = '#e8eaf0';\n  const TEXT_SECONDARY_COLOR = '#9aa1ad';\n  const PRIMARY_COLOR = '#1f6feb';\n  const PRIMARY_HOVER_COLOR = '#8ab4f8';\n  const SUCCESS_COLOR = '#10b981';\n  const WARNING_COLOR = '#f59e0b';\n  const DANGER_COLOR = '#ef4444';\n\n  const PRIMARY_GRADIENT = 'linear-gradient(135deg, #1f6feb 0%, #1b4fd8 100%)';\n  const PRIMARY_BUTTON_GRADIENT = 'linear-gradient(180deg, #1f6feb, #1b4fd8)';\n  const SUCCESS_GRADIENT = 'linear-gradient(135deg, #10b981 0%, #059669 100%)';\n  const DANGER_GRADIENT = 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)';\n\n  const PRIMARY_SHADOW = '0 4px 12px rgba(31, 111, 235, 0.3)';\n  const CARD_SHADOW = '0 8px 32px rgba(0,0,0,0.3)';\n  const BUTTON_SHADOW = '0 2px 8px rgba(0,0,0,0.3)';\n  const BOARD_SHADOW = '0 20px 40px rgba(0,0,0,0.4)';\n  const MODAL_SHADOW = '0 20px 40px rgba(0,0,0,0.4)';\n\n  const xyToCoord = (x: number, y: number): number => {\n    return y * boardSize + x;\n  };\n\n  const coordToXY = (coord: number): { x: number; y: number } => {\n    return {\n      x: coord % boardSize,\n      y: Math.floor(coord / boardSize),\n    };\n  };\n\n  useEffect(() => {\n    if (gameState === 'playing') {\n      drawBoard();\n      setIsTimerActive(true);\n      setTimeLeft(30);\n    }\n  }, [board, gameState, lastMove, boardSize]);\n\n  const drawBoard = () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    // Clear canvas with lighter brown tone\n    ctx.fillStyle = '#DEB887';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    // Draw grid\n    ctx.strokeStyle = '#8B4513';\n    ctx.lineWidth = 1;\n\n    for (let i = 0; i < boardSize; i++) {\n      // Vertical lines\n      ctx.beginPath();\n      ctx.moveTo(BOARD_PADDING + i * CELL_SIZE, BOARD_PADDING);\n      ctx.lineTo(BOARD_PADDING + i * CELL_SIZE, BOARD_PADDING + (boardSize - 1) * CELL_SIZE);\n      ctx.stroke();\n\n      // Horizontal lines\n      ctx.beginPath();\n      ctx.moveTo(BOARD_PADDING, BOARD_PADDING + i * CELL_SIZE);\n      ctx.lineTo(BOARD_PADDING + (boardSize - 1) * CELL_SIZE, BOARD_PADDING + i * CELL_SIZE);\n      ctx.stroke();\n    }\n\n    // Draw star points (ÌôîÏ†ê) - only for 19x19 board\n    if (boardSize === 19) {\n      const starPoints = [\n        [3, 3],\n        [3, 9],\n        [3, 15],\n        [9, 3],\n        [9, 9],\n        [9, 15],\n        [15, 3],\n        [15, 9],\n        [15, 15],\n      ];\n\n      ctx.fillStyle = '#8B4513';\n      starPoints.forEach(([row, col]) => {\n        const x = BOARD_PADDING + col * CELL_SIZE;\n        const y = BOARD_PADDING + row * CELL_SIZE;\n        ctx.beginPath();\n        ctx.arc(x, y, 4, 0, 2 * Math.PI);\n        ctx.fill();\n      });\n    } else if (boardSize === 13) {\n      const starPoints = [\n        [3, 3],\n        [3, 9],\n        [6, 6],\n        [9, 3],\n        [9, 9],\n      ];\n\n      ctx.fillStyle = '#8B4513';\n      starPoints.forEach(([row, col]) => {\n        const x = BOARD_PADDING + col * CELL_SIZE;\n        const y = BOARD_PADDING + row * CELL_SIZE;\n        ctx.beginPath();\n        ctx.arc(x, y, 3, 0, 2 * Math.PI);\n        ctx.fill();\n      });\n    } else if (boardSize === 9) {\n      const starPoints = [\n        [2, 2],\n        [2, 6],\n        [4, 4],\n        [6, 2],\n        [6, 6],\n      ];\n\n      ctx.fillStyle = '#8B4513';\n      starPoints.forEach(([row, col]) => {\n        const x = BOARD_PADDING + col * CELL_SIZE;\n        const y = BOARD_PADDING + row * CELL_SIZE;\n        ctx.beginPath();\n        ctx.arc(x, y, 3, 0, 2 * Math.PI);\n        ctx.fill();\n      });\n    }\n\n    // Ï∞©ÏàòÎêú Îèå Í∑∏Î¶¨Í∏∞\n    for (let row = 0; row < boardSize; row++) {\n      for (let col = 0; col < boardSize; col++) {\n        const stone = board[row][col];\n        if (stone) {\n          const x = BOARD_PADDING + col * CELL_SIZE;\n          const y = BOARD_PADDING + row * CELL_SIZE;\n          const radius = Math.min(21, CELL_SIZE * 0.4);\n\n          // ÎèåÏóê ÎùºÎîîÏñº Í∑∏ÎùºÎîîÏñ∏Ìä∏ Ìö®Í≥º Ï†ÅÏö©\n          const gradient = ctx.createRadialGradient(\n            x - radius * 0.35,\n            y - radius * 0.35,\n            radius * 0.1,\n            x,\n            y,\n            radius\n          );\n\n          if (stone === 'black') {\n            gradient.addColorStop(0, '#666');\n            gradient.addColorStop(0.2, '#444');\n            gradient.addColorStop(0.5, '#222');\n            gradient.addColorStop(0.8, '#111');\n            gradient.addColorStop(1, '#000');\n          } else {\n            gradient.addColorStop(0, '#fff');\n            gradient.addColorStop(0.2, '#f8f8f8');\n            gradient.addColorStop(0.5, '#f0f0f0');\n            gradient.addColorStop(0.8, '#e8e8e8');\n            gradient.addColorStop(1, '#ddd');\n          }\n\n          // Îèå Ï±ÑÏö∞Í∏∞\n          ctx.fillStyle = gradient;\n          ctx.beginPath();\n          ctx.arc(x, y, radius, 0, 2 * Math.PI);\n          ctx.fill();\n\n          // Îèå ÌÖåÎëêÎ¶¨\n          ctx.strokeStyle = stone === 'black' ? '#000' : '#aaa';\n          ctx.lineWidth = 1.5;\n          ctx.beginPath();\n          ctx.arc(x, y, radius, 0, 2 * Math.PI);\n          ctx.stroke();\n\n          // Ï∂îÍ∞Ä ÌïòÏù¥ÎùºÏù¥Ìä∏ Ìö®Í≥º\n          const highlight = ctx.createRadialGradient(\n            x - radius * 0.4,\n            y - radius * 0.4,\n            0,\n            x - radius * 0.4,\n            y - radius * 0.4,\n            radius * 0.3\n          );\n          if (stone === 'black') {\n            highlight.addColorStop(0, 'rgba(255,255,255,0.3)');\n            highlight.addColorStop(1, 'rgba(255,255,255,0)');\n          } else {\n            highlight.addColorStop(0, 'rgba(255,255,255,0.8)');\n            highlight.addColorStop(1, 'rgba(255,255,255,0)');\n          }\n          ctx.fillStyle = highlight;\n          ctx.fill();\n        }\n      }\n    }\n\n    // ÎßàÏßÄÎßâ Ï∞©ÏàòÏ†ê ÌëúÏãú\n    if (lastMove) {\n      const x = BOARD_PADDING + lastMove.col * CELL_SIZE;\n      const y = BOARD_PADDING + lastMove.row * CELL_SIZE;\n\n      ctx.fillStyle = '#ff6b6b';\n      ctx.beginPath();\n      ctx.arc(x, y, Math.max(3, CELL_SIZE * 0.12), 0, 2 * Math.PI);\n      ctx.fill();\n    }\n  };\n\n  const makeMove = (row: number, col: number, stone: Stone) => {\n    if (!stone) return;\n    if (gameState !== 'playing') return;\n    if (board[row][col]) return;\n\n    const newBoard = board.map((boardRow, rowIndex) =>\n      boardRow.map((cell, colIndex) => {\n        if (rowIndex === row && colIndex === col) {\n          return stone;\n        }\n        return cell;\n      })\n    );\n\n    captureStones(newBoard, stone, row, col);\n\n    setBoard(newBoard);\n    setLastMove({ row, col });\n    setTimeLeft(30);\n\n    const coord = xyToCoord(col, row);\n    setGameLog((prev) => [...prev, coord]);\n\n    const nextPlayer = stone === 'black' ? 'white' : 'black';\n    setCurrentPlayer(nextPlayer);\n\n    if (nextPlayer !== playerColor) {\n      setIsAiThinking(true);\n      setTimeout(() => {\n        makeAIMove(newBoard, nextPlayer);\n        setIsAiThinking(false);\n      }, 1500);\n    }\n  };\n\n  const captureStones = (board: Board, lastStone: Stone, lastRow: number, lastCol: number): number => {\n    const opponent = lastStone === 'black' ? 'white' : 'black';\n    let capturedCount = 0;\n    const directions = [\n      [0, 1],\n      [1, 0],\n      [0, -1],\n      [-1, 0],\n    ];\n\n    for (const [dx, dy] of directions) {\n      const newRow = lastRow + dx;\n      const newCol = lastCol + dy;\n\n      if (\n        newRow >= 0 &&\n        newRow < boardSize &&\n        newCol >= 0 &&\n        newCol < boardSize &&\n        board[newRow][newCol] === opponent\n      ) {\n        const group = getGroup(board, newRow, newCol, opponent);\n        if (hasNoLiberties(board, group)) {\n          for (const { row, col } of group) {\n            board[row][col] = null;\n            capturedCount++;\n          }\n        }\n      }\n    }\n\n    if (capturedCount > 0) {\n      setCapturedStones((prev) => ({\n        ...prev,\n        [lastStone]: (prev[lastStone as keyof typeof prev] as number) + capturedCount,\n      }));\n    }\n\n    return capturedCount;\n  };\n\n  const getGroup = (\n    board: Board,\n    startRow: number,\n    startCol: number,\n    color: Stone\n  ): { row: number; col: number }[] => {\n    const group: { row: number; col: number }[] = [];\n    const visited = new Set<string>();\n    const stack = [{ row: startRow, col: startCol }];\n\n    while (stack.length > 0) {\n      const { row, col } = stack.pop()!;\n      const key = `${row},${col}`;\n\n      if (\n        visited.has(key) ||\n        row < 0 ||\n        row >= boardSize ||\n        col < 0 ||\n        col >= boardSize ||\n        board[row][col] !== color\n      ) {\n        continue;\n      }\n\n      visited.add(key);\n      group.push({ row, col });\n\n      const directions = [\n        [0, 1],\n        [1, 0],\n        [0, -1],\n        [-1, 0],\n      ];\n      for (const [dx, dy] of directions) {\n        const newRow = row + dx;\n        const newCol = col + dy;\n        const newKey = `${newRow},${newCol}`;\n\n        if (!visited.has(newKey)) {\n          stack.push({ row: newRow, col: newCol });\n        }\n      }\n    }\n\n    return group;\n  };\n\n  const hasNoLiberties = (board: Board, group: { row: number; col: number }[]): boolean => {\n    const directions = [\n      [0, 1],\n      [1, 0],\n      [0, -1],\n      [-1, 0],\n    ];\n\n    for (const { row, col } of group) {\n      for (const [dx, dy] of directions) {\n        const newRow = row + dx;\n        const newCol = col + dy;\n\n        if (\n          newRow >= 0 &&\n          newRow < boardSize &&\n          newCol >= 0 &&\n          newCol < boardSize &&\n          board[newRow][newCol] === null\n        ) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  const makeAIMove = (currentBoard: Board, aiColor: Stone) => {\n    if (gameState !== 'playing') return;\n\n    const emptySpots: { row: number; col: number; score: number }[] = [];\n\n    for (let row = 0; row < boardSize; row++) {\n      for (let col = 0; col < boardSize; col++) {\n        if (!currentBoard[row][col]) {\n          let score = Math.random() * 10;\n\n          const centerDistance = Math.abs(row - Math.floor(boardSize / 2)) + Math.abs(col - Math.floor(boardSize / 2));\n          score += Math.max(0, boardSize - centerDistance);\n\n          const directions = [\n            [0, 1],\n            [1, 0],\n            [0, -1],\n            [-1, 0],\n          ];\n          for (const [dx, dy] of directions) {\n            const newRow = row + dx;\n            const newCol = col + dy;\n            if (\n              newRow >= 0 &&\n              newRow < boardSize &&\n              newCol >= 0 &&\n              newCol < boardSize &&\n              currentBoard[newRow][newCol]\n            ) {\n              score += 5;\n            }\n          }\n\n          emptySpots.push({ row, col, score });\n        }\n      }\n    }\n\n    if (emptySpots.length > 0) {\n      emptySpots.sort((a, b) => b.score - a.score);\n      const topCandidates = emptySpots.slice(0, Math.min(10, emptySpots.length));\n      const randomIndex = Math.floor(Math.random() * topCandidates.length);\n      const { row, col } = topCandidates[randomIndex];\n\n      const newBoard = currentBoard.map((boardRow, rowIndex) =>\n        boardRow.map((cell, colIndex) => {\n          if (rowIndex === row && colIndex === col) {\n            return aiColor;\n          }\n          return cell;\n        })\n      );\n\n      captureStones(newBoard, aiColor, row, col);\n\n      setBoard(newBoard);\n      setLastMove({ row, col });\n      setTimeLeft(30);\n\n      const coord = xyToCoord(col, row);\n      setGameLog((prev) => [...prev, coord]);\n\n      setCurrentPlayer(playerColor);\n    } else {\n      handlePass();\n    }\n  };\n\n  const handlePass = () => {\n    if (gameState !== 'playing') return;\n\n    const newPassCount = passCount + 1;\n    setPassCount(newPassCount);\n    setTimeLeft(30);\n\n    setGameLog((prev) => [...prev, -1]);\n\n    if (newPassCount >= 2) {\n      endGame();\n    } else {\n      const nextPlayer = currentPlayer === 'black' ? 'white' : 'black';\n      setCurrentPlayer(nextPlayer);\n\n      if (nextPlayer !== playerColor) {\n        setTimeout(() => {\n          makeAIMove(board, nextPlayer);\n        }, 1000);\n      }\n    }\n  };\n\n  const handleDrawOffer = () => {\n    setDrawOffered(true);\n    setShowDrawOffer(true);\n\n    setTimeout(() => {\n      const aiAccepts = Math.random() > 0.5;\n      if (aiAccepts) {\n        setWinner(null);\n        setShowResult(true);\n        setGameState('finished');\n        setIsTimerActive(false);\n      } else {\n        setShowDrawOffer(false);\n        setDrawOffered(false);\n      }\n    }, 2000);\n  };\n\n  const endGame = () => {\n    setIsTimerActive(false);\n    let blackScore = 0;\n    let whiteScore = 0;\n\n    for (let row = 0; row < boardSize; row++) {\n      for (let col = 0; col < boardSize; col++) {\n        if (board[row][col] === 'black') blackScore++;\n        if (board[row][col] === 'white') whiteScore++;\n      }\n    }\n\n    blackScore += capturedStones.black;\n    whiteScore += capturedStones.white;\n    whiteScore += 6.5;\n\n    setWinner(blackScore > whiteScore ? 'black' : 'white');\n    setShowResult(true);\n    setGameState('finished');\n  };\n\n  const handleResign = () => {\n    if (gameState !== 'playing') return;\n\n    setIsTimerActive(false);\n    setGameLog((prev) => [...prev, -2]);\n\n    setWinner(currentPlayer === 'black' ? 'white' : 'black');\n    setShowResult(true);\n    setGameState('finished');\n  };\n\n  const startGame = () => {\n    const newBoard = Array(boardSize)\n      .fill(null)\n      .map(() => Array(boardSize).fill(null));\n    setBoard(newBoard);\n    setCurrentPlayer('black');\n    setGameLog([]);\n    setWinner(null);\n    setShowResult(false);\n    setPassCount(0);\n    setLastMove(null);\n    setCapturedStones({ black: 0, white: 0 });\n    setGameState('playing');\n    setTimeLeft(30);\n    setIsTimerActive(true);\n\n    if (playerColor === 'white') {\n      setIsAiThinking(true);\n      setTimeout(() => {\n        makeAIMove(newBoard, 'black');\n        setIsAiThinking(false);\n      }, 1000);\n    }\n  };\n\n  const resetGame = () => {\n    setGameState('setup');\n    setBoard(Array(boardSize).fill(null).map(() => Array(boardSize).fill(null)));\n    setCurrentPlayer('black');\n    setGameLog([]);\n    setWinner(null);\n    setShowResult(false);\n    setPassCount(0);\n    setLastMove(null);\n    setCapturedStones({ black: 0, white: 0 });\n  };\n\n  const handleCanvasClick = (event: React.MouseEvent<HTMLCanvasElement>) => {\n    if (gameState !== 'playing' || currentPlayer !== playerColor || isAiThinking) return;\n\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const rect = canvas.getBoundingClientRect();\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    const col = Math.round((x - BOARD_PADDING) / CELL_SIZE);\n    const row = Math.round((y - BOARD_PADDING) / CELL_SIZE);\n\n    if (\n      col >= 0 &&\n      col < boardSize &&\n      row >= 0 &&\n      row < boardSize &&\n      !board[row][col]\n    ) {\n      makeMove(row, col, playerColor);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen text-white\" style={{ backgroundColor: BACKGROUND_COLOR }}>\n      {/* Header */}\n      <header\n        className=\"flex items-center justify-between px-8 py-6 border-b\"\n        style={{ borderColor: BORDER_COLOR }}\n      >\n        <button onClick={() => navigate('/')} className=\"flex items-center space-x-3 cursor-pointer\">\n          <div\n            className=\"w-12 h-12 rounded-xl flex items-center justify-center\"\n            style={{\n              background: PRIMARY_GRADIENT,\n              boxShadow: PRIMARY_SHADOW,\n            }}\n          >\n            <i className=\"ri-game-fill text-white text-xl\"></i>\n          </div>\n          <h1 className=\"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent\">\n            Doljabi\n          </h1>\n        </button>\n\n        <h2 className=\"text-xl font-semibold\" style={{ color: TEXT_COLOR }}>\n          Î∞îÎëë AI ÎåÄÏ†Ñ\n        </h2>\n\n        <button\n          onClick={() => navigate('/')}\n          className=\"px-6 py-2 rounded-lg transition-all cursor-pointer whitespace-nowrap border\"\n          style={{\n            backgroundColor: BUTTON_BACKGROUND_COLOR,\n            borderColor: BORDER_COLOR,\n            color: TEXT_COLOR,\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.borderColor = PRIMARY_HOVER_COLOR;\n            e.currentTarget.style.color = PRIMARY_HOVER_COLOR;\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.borderColor = BORDER_COLOR;\n            e.currentTarget.style.color = TEXT_COLOR;\n          }}\n        >\n          Î°úÎπÑÎ°ú\n        </button>\n      </header>\n\n      {gameState === 'setup' ? (\n        <div className=\"flex items-center justify-center min-h-[calc(100vh-88px)] p-8\">\n          <div className=\"rounded-2xl p-8 w-full max-w-md border\"\n               style={{ \n                 backgroundColor: CARD_BACKGROUND_COLOR, \n                 borderColor: BORDER_COLOR,\n                 boxShadow: CARD_SHADOW\n               }}>\n            <h3 className=\"text-2xl font-bold mb-6 text-center\" style={{ color: TEXT_COLOR }}>Í≤åÏûÑ ÏÑ§Ï†ï</h3>\n            \n            <div className=\"space-y-6\">\n              {/* Board Size Settings */}\n              <div>\n                <label className=\"block text-sm font-medium mb-3\" style={{ color: TEXT_COLOR }}>Î≥¥Îìú ÌÅ¨Í∏∞</label>\n                <div className=\"grid grid-cols-3 gap-3\">\n                  {([9, 13, 19] as BoardSize[]).map((size) => (\n                    <button\n                      key={size}\n                      onClick={() => {\n                        setBoardSize(size);\n                        setBoard(Array(size).fill(null).map(() => Array(size).fill(null)));\n                      }}\n                      className={`p-3 rounded-lg border-2 transition-all cursor-pointer whitespace-nowrap ${\n                        boardSize === size ? 'border-blue-500 bg-blue-500/20' : ''\n                      }`}\n                      style={{\n                        backgroundColor: boardSize === size ? 'rgba(31, 111, 235, 0.2)' : BUTTON_BACKGROUND_COLOR,\n                        borderColor: boardSize === size ? PRIMARY_HOVER_COLOR : BORDER_COLOR,\n                        color: TEXT_COLOR,\n                        boxShadow: boardSize === size ? '0 0 0 3px rgba(138,180,248,0.25)' : 'none'\n                      }}\n                    >\n                      {size}√ó{size}\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Player Color Settings */}\n              <div>\n                <label className=\"block text-sm font-medium mb-3\" style={{ color: TEXT_COLOR }}>ÎÇ¥ Îèå ÏÉâ</label>\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <button\n                    onClick={() => setPlayerColor('black')}\n                    className={`p-3 rounded-lg border-2 transition-all cursor-pointer whitespace-nowrap ${\n                      playerColor === 'black' ? 'border-blue-500 bg-blue-500/20' : ''\n                    }`}\n                    style={{\n                      backgroundColor: playerColor === 'black' ? 'rgba(31, 111, 235, 0.2)' : BUTTON_BACKGROUND_COLOR,\n                      borderColor: playerColor === 'black' ? PRIMARY_HOVER_COLOR : BORDER_COLOR,\n                      color: TEXT_COLOR,\n                      boxShadow: playerColor === 'black' ? '0 0 0 3px rgba(138,180,248,0.25)' : 'none'\n                    }}\n                  >\n                    ‚ö´ ÌùëÎèå (ÏÑ†Í≥µ)\n                  </button>\n                  <button\n                    onClick={() => setPlayerColor('white')}\n                    className={`p-3 rounded-lg border-2 transition-all cursor-pointer whitespace-nowrap ${\n                      playerColor === 'white' ? 'border-blue-500 bg-blue-500/20' : ''\n                    }`}\n                    style={{\n                      backgroundColor: playerColor === 'white' ? 'rgba(31, 111, 235, 0.2)' : BUTTON_BACKGROUND_COLOR,\n                      borderColor: playerColor === 'white' ? PRIMARY_HOVER_COLOR : BORDER_COLOR,\n                      color: TEXT_COLOR,\n                      boxShadow: playerColor === 'white' ? '0 0 0 3px rgba(138,180,248,0.25)' : 'none'\n                    }}\n                  >\n                    ‚ö™ Î∞±Îèå (ÌõÑÍ≥µ)\n                  </button>\n                </div>\n              </div>\n\n              {/* Difficulty Settings */}\n              <div>\n                <label className=\"block text-sm font-medium mb-3\" style={{ color: TEXT_COLOR }}>AI ÎÇúÏù¥ÎèÑ</label>\n                <div className=\"grid grid-cols-3 gap-3\">\n                  {(['easy', 'normal', 'hard'] as Difficulty[]).map((level) => (\n                    <button\n                      key={level}\n                      onClick={() => setDifficulty(level)}\n                      className={`p-3 rounded-lg border-2 transition-all cursor-pointer whitespace-nowrap ${\n                        difficulty === level ? 'border-green-500 bg-green-500/20' : ''\n                      }`}\n                      style={{\n                        backgroundColor: difficulty === level ? \n                          (level === 'easy' ? 'rgba(16, 185, 129, 0.2)' : \n                           level === 'normal' ? 'rgba(59, 130, 246, 0.2)' : \n                           'rgba(239, 68, 68, 0.2)') : BUTTON_BACKGROUND_COLOR,\n                        borderColor: difficulty === level ? \n                          (level === 'easy' ? SUCCESS_COLOR : \n                           level === 'normal' ? '#3b82f6' : \n                           DANGER_COLOR) : BORDER_COLOR,\n                        color: TEXT_COLOR,\n                        boxShadow: difficulty === level ? \n                          (level === 'easy' ? '0 0 0 3px rgba(16,185,129,0.25)' : \n                           level === 'normal' ? '0 0 0 3px rgba(59,130,246,0.25)' : \n                           '0 0 0 3px rgba(239,68,68,0.25)') : 'none'\n                      }}\n                    >\n                      {level === 'easy' ? 'Ïâ¨ÏõÄ' : level === 'normal' ? 'Î≥¥ÌÜµ' : 'Ïñ¥Î†§ÏõÄ'}\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Game Rules */}\n              <div className=\"rounded-lg p-4 border\"\n                   style={{ \n                     backgroundColor: BUTTON_BACKGROUND_COLOR, \n                     borderColor: BORDER_COLOR\n                   }}>\n                <h4 className=\"font-semibold mb-2\" style={{ color: TEXT_COLOR }}>Í≤åÏûÑ Í∑úÏπô</h4>\n                <div className=\"text-sm space-y-1\" style={{ color: TEXT_SECONDARY_COLOR }}>\n                  <p>‚Ä¢ Î≥¥Îìú ÌÅ¨Í∏∞: {boardSize}√ó{boardSize}</p>\n                  <p>‚Ä¢ ÌùëÎèåÏù¥ Î®ºÏ†Ä ÏãúÏûëÌï©ÎãàÎã§</p>\n                  <p>‚Ä¢ ÏÉÅÎåÄÎ∞© ÎèåÏùÑ ÎëòÎü¨Ïã∏Î©¥ Ïû°ÏùÑ Ïàò ÏûàÏäµÎãàÎã§</p>\n                  <p>‚Ä¢ ÏñëÏ™Ω Î™®Îëê ÏàòÎÑòÍπÄÌïòÎ©¥ Í≤åÏûÑÏù¥ Ï¢ÖÎ£åÎê©ÎãàÎã§</p>\n                </div>\n              </div>\n\n              <button\n                onClick={startGame}\n                className=\"w-full py-3 rounded-lg font-semibold transition-all cursor-pointer whitespace-nowrap text-white\"\n                style={{ \n                  background: PRIMARY_BUTTON_GRADIENT,\n                  boxShadow: BUTTON_SHADOW\n                }}\n              >\n                Í≤åÏûÑ ÏãúÏûë\n              </button>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div className=\"flex h-[calc(100vh-88px)]\">\n          {/* Game Board */}\n          <div className=\"flex-1 flex items-center justify-center p-8\">\n            <div className=\"relative\">\n              <canvas\n                ref={canvasRef}\n                width={BOARD_PADDING * 2 + (boardSize - 1) * CELL_SIZE}\n                height={BOARD_PADDING * 2 + (boardSize - 1) * CELL_SIZE}\n                onClick={handleCanvasClick}\n                className=\"border rounded-lg shadow-2xl cursor-pointer\"\n                style={{ \n                  backgroundColor: '#DEB887',\n                  borderColor: BORDER_COLOR,\n                  boxShadow: BOARD_SHADOW,\n                  cursor: currentPlayer !== playerColor || isAiThinking ? 'wait' : 'pointer'\n                }}\n              />\n              \n              {(currentPlayer !== playerColor || isAiThinking) && (\n                <div className=\"absolute inset-0 rounded-lg flex items-center justify-center\"\n                     style={{ backgroundColor: 'rgba(0,0,0,0.5)' }}>\n                  <div className=\"px-6 py-3 rounded-lg border\"\n                       style={{ \n                         backgroundColor: 'rgba(22,22,28,0.9)', \n                         borderColor: BORDER_COLOR\n                       }}>\n                    <div className=\"flex items-center space-x-3\">\n                      <div className=\"animate-spin w-5 h-5 border-2 rounded-full\"\n                           style={{ \n                             borderColor: PRIMARY_HOVER_COLOR,\n                             borderTopColor: 'transparent'\n                           }}></div>\n                      <span style={{ color: TEXT_COLOR }}>\n                        {isAiThinking ? 'AI ÏÉùÍ∞Å Ï§ë...' : 'AI Ï∞®Î°Ä...'}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Side Panel */}\n          <div className=\"w-80 border-l p-6\"\n               style={{ \n                 backgroundColor: CARD_BACKGROUND_COLOR, \n                 borderColor: BORDER_COLOR\n               }}>\n            <div className=\"space-y-6\">\n              {/* Current Player */}\n              <div className=\"rounded-lg p-4 border\"\n                   style={{ \n                     backgroundColor: BUTTON_BACKGROUND_COLOR, \n                     borderColor: BORDER_COLOR\n                   }}>\n                <h4 className=\"font-semibold mb-2\" style={{ color: TEXT_COLOR }}>ÌòÑÏû¨ Ï∞®Î°Ä</h4>\n                <div className=\"flex items-center space-x-2\">\n                  <span className=\"text-2xl\">{currentPlayer === 'black' ? '‚ö´' : '‚ö™'}</span>\n                  <span style={{ color: TEXT_COLOR }}>{currentPlayer === 'black' ? 'ÌùëÎèå' : 'Î∞±Îèå'}</span>\n                  {currentPlayer !== playerColor && <span style={{ color: PRIMARY_HOVER_COLOR }}>(AI)</span>}\n                  {currentPlayer === playerColor && <span style={{ color: SUCCESS_COLOR }}>(ÎÇò)</span>}\n                </div>\n                <div className=\"mt-2 text-sm\" style={{ color: TEXT_SECONDARY_COLOR }}>\n                  {currentPlayer === playerColor ? 'ÎÇ¥ Ï∞®Î°ÄÏûÖÎãàÎã§.' : 'AI Ï∞®Î°ÄÏûÖÎãàÎã§.'}\n                </div>\n              </div>\n\n              {/* Captured Stones */}\n              <div className=\"rounded-lg p-4 border\"\n                   style={{ \n                     backgroundColor: BUTTON_BACKGROUND_COLOR, \n                     borderColor: BORDER_COLOR\n                   }}>\n                <h4 className=\"font-semibold mb-2\" style={{ color: TEXT_COLOR }}>Ïû°ÏùÄ Îèå</h4>\n                <div className=\"flex justify-between\">\n                  <div className=\"flex items-center space-x-2\">\n                    <span>‚ö´</span>\n                    <span style={{ color: TEXT_COLOR }}>{capturedStones.black}Í∞ú</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <span>‚ö™</span>\n                    <span style={{ color: TEXT_COLOR }}>{capturedStones.white}Í∞ú</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Game Controls */}\n              <div className=\"space-y-3\">\n                <button \n                  onClick={handlePass}\n                  disabled={currentPlayer !== playerColor || isAiThinking}\n                  className=\"w-full py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap border\"\n                  style={{ \n                    backgroundColor: currentPlayer === playerColor && !isAiThinking ? BUTTON_BACKGROUND_COLOR : '#0f1419', \n                    borderColor: currentPlayer === playerColor && !isAiThinking ? BORDER_COLOR : '#1a1a1a',\n                    color: currentPlayer === playerColor && !isAiThinking ? TEXT_COLOR : TEXT_SECONDARY_COLOR\n                  }}\n                  onMouseEnter={(e) => {\n                    if (currentPlayer === playerColor && !isAiThinking) {\n                      e.currentTarget.style.borderColor = PRIMARY_HOVER_COLOR;\n                      e.currentTarget.style.color = PRIMARY_HOVER_COLOR;\n                    }\n                  }}\n                  onMouseLeave={(e) => {\n                    if (currentPlayer === playerColor && !isAiThinking) {\n                      e.currentTarget.style.borderColor = BORDER_COLOR;\n                      e.currentTarget.style.color = TEXT_COLOR;\n                    }\n                  }}\n                >\n                  ÏàòÎÑòÍπÄ\n                </button>\n                <button\n                  onClick={handleDrawOffer}\n                  disabled={gameState !== 'playing' || drawOffered}\n                  className=\"w-full py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap border\"\n                  style={{\n                    backgroundColor: gameState === 'playing' && !drawOffered ? BUTTON_BACKGROUND_COLOR : '#0f1419',\n                    borderColor: gameState === 'playing' && !drawOffered ? BORDER_COLOR : '#1a1a1a',\n                    color: gameState === 'playing' && !drawOffered ? TEXT_COLOR : TEXT_SECONDARY_COLOR,\n                  }}\n                  onMouseEnter={(e) => {\n                    if (gameState === 'playing' && !drawOffered) {\n                      e.currentTarget.style.borderColor = WARNING_COLOR;\n                      e.currentTarget.style.color = WARNING_COLOR;\n                    }\n                  }}\n                  onMouseLeave={(e) => {\n                    if (gameState === 'playing' && !drawOffered) {\n                      e.currentTarget.style.borderColor = BORDER_COLOR;\n                      e.currentTarget.style.color = TEXT_COLOR;\n                    }\n                  }}\n                >\n                  {drawOffered ? 'Î¨¥ÏäπÎ∂Ä Ï†úÏïàÎê®' : 'Î¨¥ÏäπÎ∂Ä Ï†úÏïà'}\n                </button>\n                <button \n                  onClick={handleResign}\n                  className=\"w-full py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap text-white\"\n                  style={{ \n                    background: DANGER_GRADIENT,\n                    boxShadow: '0 2px 8px rgba(239, 68, 68, 0.3)'\n                  }}\n                >\n                  Í∏∞Í∂å\n                </button>\n              </div>\n\n              {/* Game Log */}\n              <div className=\"rounded-lg p-4 border\"\n                   style={{ \n                     backgroundColor: BUTTON_BACKGROUND_COLOR, \n                     borderColor: BORDER_COLOR\n                   }}>\n                <h4 className=\"font-semibold mb-3\" style={{ color: TEXT_COLOR }}>Í≤åÏûÑ Î°úÍ∑∏</h4>\n                <div className=\"space-y-1 max-h-40 overflow-y-auto text-sm font-mono\">\n                  {gameLog.map((coord, index) => {\n                    const isBlackMove = index % 2 === 0;\n                    const color = isBlackMove ? 'B' : 'W';\n                    return (\n                      <div key={index} style={{ color: TEXT_SECONDARY_COLOR }}>\n                        {coord === -1 ? `${color}(ÏàòÎÑòÍπÄ)` : coord === -2 ? `${color}(Í∏∞Í∂å)` : `${color}(${coord})`}\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n\n              <button\n                onClick={resetGame}\n                className=\"w-full py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap border\"\n                style={{ \n                  backgroundColor: BUTTON_BACKGROUND_COLOR, \n                  borderColor: BORDER_COLOR,\n                  color: TEXT_COLOR\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.borderColor = PRIMARY_HOVER_COLOR;\n                  e.currentTarget.style.color = PRIMARY_HOVER_COLOR;\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.borderColor = BORDER_COLOR;\n                  e.currentTarget.style.color = TEXT_COLOR;\n                }}\n              >\n                ÏÉà Í≤åÏûÑ ÏÑ§Ï†ï\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Draw Offer Modal */}\n      {showDrawOffer && (\n        <div\n          className=\"fixed inset-0 backdrop-blur-sm z-50 flex items-center justify-center p-4\"\n          style={{ backgroundColor: 'rgba(0,0,0,0.5)' }}\n        >\n          <div\n            className=\"rounded-2xl p-8 w-full max-w-md border text-center\"\n            style={{\n              backgroundColor: 'rgba(22,22,28,0.9)',\n              borderColor: BORDER_COLOR,\n              boxShadow: MODAL_SHADOW,\n            }}\n          >\n            <div className=\"mb-6\">\n              <div className=\"text-6xl mb-4\">ü§ù</div>\n              <h3 className=\"text-2xl font-bold mb-2\" style={{ color: WARNING_COLOR }}>\n                Î¨¥ÏäπÎ∂Ä Ï†úÏïà\n              </h3>\n              <p className=\"mt-2\" style={{ color: TEXT_SECONDARY_COLOR }}>\n                AIÍ∞Ä Î¨¥ÏäπÎ∂Ä Ï†úÏïàÏùÑ Í≤ÄÌÜ† Ï§ëÏûÖÎãàÎã§...\n              </p>\n            </div>\n            <div className=\"flex items-center justify-center\">\n              <div\n                className=\"animate-spin w-8 h-8 border-2 rounded-full\"\n                style={{\n                  borderColor: WARNING_COLOR,\n                  borderTopColor: 'transparent',\n                }}\n              ></div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Result Modal */}\n      {showResult && (\n        <div className=\"fixed inset-0 backdrop-blur-sm z-50 flex items-center justify-center p-4\"\n             style={{ backgroundColor: 'rgba(0,0,0,0.5)' }}>\n          <div className=\"rounded-2xl p-8 w-full max-w-md border text-center\"\n               style={{ \n                 backgroundColor: 'rgba(22,22,28,0.9)', \n                 borderColor: BORDER_COLOR,\n                 boxShadow: MODAL_SHADOW\n               }}>\n            <div className=\"mb-6\">\n              {winner === null ? (\n                <>\n                  <div className=\"text-6xl mb-4\">ü§ù</div>\n                  <h3 className=\"text-2xl font-bold mb-2\" style={{ color: WARNING_COLOR }}>\n                    Î¨¥ÏäπÎ∂Ä!\n                  </h3>\n                  <p className=\"mt-2\" style={{ color: TEXT_SECONDARY_COLOR }}>\n                    ÏñëÏ™Ω Î™®Îëê Ïûò Ïã∏Ïõ†ÏäµÎãàÎã§!\n                  </p>\n                </>\n              ) : winner === playerColor ? (\n                <>\n                  <div className=\"text-6xl mb-4\">üéâ</div>\n                  <h3 className=\"text-2xl font-bold mb-2\" style={{ color: SUCCESS_COLOR }}>ÏäπÎ¶¨!</h3>\n                  <p className=\"mt-2\" style={{ color: TEXT_SECONDARY_COLOR }}>Ï∂ïÌïòÌï©ÎãàÎã§! AIÎ•º Ïù¥Í≤ºÏäµÎãàÎã§.</p>\n                </>\n              ) : (\n                <>\n                  <div className=\"text-6xl mb-4\">üò¢</div>\n                  <h3 className=\"text-2xl font-bold mb-2\" style={{ color: DANGER_COLOR }}>Ìå®Î∞∞</h3>\n                  <p className=\"mt-2\" style={{ color: TEXT_SECONDARY_COLOR }}>ÏïÑÏâΩÎÑ§Ïöî. Îã§Ïãú ÎèÑÏ†ÑÌï¥Î≥¥ÏÑ∏Ïöî!</p>\n                </>\n              )}\n            </div>\n            \n            <div className=\"space-y-3\">\n              <button \n                onClick={resetGame}\n                className=\"w-full py-3 rounded-lg font-semibold transition-all cursor-pointer whitespace-nowrap text-white\"\n                style={{ \n                  background: PRIMARY_BUTTON_GRADIENT,\n                  boxShadow: BUTTON_SHADOW\n                }}\n              >\n                ÏÉà Í≤åÏûÑ üîÅ\n              </button>\n              <button \n                onClick={() => navigate('/')}\n                className=\"w-full py-3 rounded-lg font-semibold transition-all cursor-pointer whitespace-nowrap border\"\n                style={{ \n                  backgroundColor: BUTTON_BACKGROUND_COLOR, \n                  borderColor: BORDER_COLOR,\n                  color: TEXT_COLOR\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.borderColor = PRIMARY_HOVER_COLOR;\n                  e.currentTarget.style.color = PRIMARY_HOVER_COLOR;\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.borderColor = BORDER_COLOR;\n                  e.currentTarget.style.color = TEXT_COLOR;\n                }}\n              >\n                Î°úÎπÑÎ°ú üëã\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["BadukSinglePlay","navigate","useNavigate","canvasRef","useRef","gameState","setGameState","useState","boardSize","setBoardSize","board","setBoard","currentPlayer","setCurrentPlayer","playerColor","setPlayerColor","gameLog","setGameLog","capturedStones","setCapturedStones","winner","setWinner","showResult","setShowResult","passCount","setPassCount","lastMove","setLastMove","difficulty","setDifficulty","timeLeft","setTimeLeft","isTimerActive","setIsTimerActive","isAiThinking","setIsAiThinking","showDrawOffer","setShowDrawOffer","drawOffered","setDrawOffered","CELL_SIZE","BOARD_PADDING","BACKGROUND_COLOR","BORDER_COLOR","CARD_BACKGROUND_COLOR","BUTTON_BACKGROUND_COLOR","TEXT_COLOR","TEXT_SECONDARY_COLOR","PRIMARY_HOVER_COLOR","SUCCESS_COLOR","WARNING_COLOR","DANGER_COLOR","PRIMARY_GRADIENT","PRIMARY_BUTTON_GRADIENT","DANGER_GRADIENT","PRIMARY_SHADOW","CARD_SHADOW","BUTTON_SHADOW","BOARD_SHADOW","MODAL_SHADOW","xyToCoord","x","y","useEffect","drawBoard","canvas","ctx","i","starPoints","row","col","stone","radius","gradient","highlight","makeMove","newBoard","boardRow","rowIndex","cell","colIndex","captureStones","coord","prev","nextPlayer","makeAIMove","lastStone","lastRow","lastCol","opponent","capturedCount","directions","dx","dy","newRow","newCol","group","getGroup","hasNoLiberties","startRow","startCol","color","visited","stack","key","newKey","currentBoard","aiColor","emptySpots","score","centerDistance","a","b","topCandidates","randomIndex","handlePass","newPassCount","endGame","handleDrawOffer","blackScore","whiteScore","handleResign","startGame","resetGame","handleCanvasClick","event","rect","jsxs","jsx","size","level","index","Fragment"],"mappings":"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"}