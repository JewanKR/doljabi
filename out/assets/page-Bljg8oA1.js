import{u as T,a as S,r as d,j as e}from"./index-CThPi32I.js";function E(){const h=T(),s=S().state,[x]=d.useState(()=>s?.roomCode||Math.random().toString(36).substring(2,8).toUpperCase()),[l]=d.useState(s?.isHost!==!1),[n,b]=d.useState(()=>s?.opponent?[{id:1,nickname:"나",rating:1500,color:"black",ready:!1},{id:2,nickname:s.opponent.nickname,rating:s.opponent.rating,color:"white",ready:!0}]:l?[{id:1,nickname:"나",rating:1500,color:"black",ready:!1},{id:2,nickname:"대기 중...",rating:0,color:"white",ready:!1}]:[{id:1,nickname:"방장",rating:1550,color:"black",ready:!0},{id:2,nickname:"나",rating:1500,color:"white",ready:!1}]),[m,f]=d.useState({gameType:"baduk",mainTime:1800,byoyomiTime:30,byoyomiCount:3});d.useEffect(()=>{if(l&&n[1].nickname==="대기 중..."&&!s?.opponent){const o=setTimeout(()=>{b(r=>[r[0],{id:2,nickname:"친구플레이어",rating:1480,color:"white",ready:!1}])},5e3);return()=>clearTimeout(o)}},[l,n,s]);const y=o=>{const r=Math.floor(o/3600),t=Math.floor(o%3600/60),i=o%3600%60;return`${r.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`},g=(o,r)=>{const t=r.split(":");if(t.length===3){const i=parseInt(t[0])*3600+parseInt(t[1])*60+parseInt(t[2]);!isNaN(i)&&i>=0&&f(v=>({...v,[o]:i}))}},u=(o,r)=>{f(t=>({...t,[o]:Math.max(0,t[o]+r)}))},p=o=>{f(r=>({...r,byoyomiCount:Math.max(1,Math.min(10,r.byoyomiCount+o))}))},j=()=>{const o=l?1:2;b(r=>r.map(t=>t.id===o?{...t,ready:!t.ready}:t))},k=()=>{h("/baduk/game-room",{state:{gameSettings:m,players:n,roomCode:x}})},w=()=>{h("/")},C=()=>{navigator.clipboard.writeText(x)},N=()=>{b(o=>o.map(r=>({...r,color:r.color==="black"?"white":"black"})))},c=n.every(o=>o.ready)&&n[1].nickname!=="대기 중...",a=l||s?.opponent;return e.jsx("div",{className:"min-h-screen text-white p-8",style:{backgroundColor:"#0b0c10"},children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:"#e8eaf0"},children:"대기실"}),e.jsx("p",{style:{color:"#9aa1ad"},children:"모든 플레이어가 준비되면 게임을 시작할 수 있습니다"})]}),e.jsx("div",{className:"rounded-xl p-6 border mb-6",style:{backgroundColor:"rgba(22,22,28,0.6)",borderColor:"#2a2a33"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm mb-1",style:{color:"#9aa1ad"},children:"방 입장 코드"}),e.jsx("div",{className:"text-2xl font-bold tracking-wider",style:{color:"#e8eaf0"},children:x})]}),e.jsxs("button",{onClick:C,className:"px-6 py-3 rounded-lg font-semibold transition-all cursor-pointer whitespace-nowrap flex items-center space-x-2 border",style:{backgroundColor:"#141822",borderColor:"#2a2a33",color:"#e8eaf0"},onMouseEnter:o=>{o.currentTarget.style.borderColor="#8ab4f8",o.currentTarget.style.color="#8ab4f8"},onMouseLeave:o=>{o.currentTarget.style.borderColor="#2a2a33",o.currentTarget.style.color="#e8eaf0"},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[e.jsx("path",{d:"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"}),e.jsx("path",{d:"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"})]}),e.jsx("span",{children:"복사"})]})]})}),e.jsx("div",{className:"grid grid-cols-2 gap-6 mb-6",children:n.map((o,r)=>e.jsxs("div",{className:"rounded-xl p-6 border",style:{backgroundColor:"rgba(22,22,28,0.6)",borderColor:o.ready?"#22c55e":"#2a2a33"},children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center ${o.color==="black"?"bg-gray-900":"bg-gray-100"}`,style:{border:o.color==="black"?"3px solid #4b5563":"3px solid #d1d5db"},children:e.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",children:[e.jsx("circle",{cx:"16",cy:"16",r:"14",fill:o.color==="black"?"#000":"#fff"}),o.color==="black"&&e.jsx("circle",{cx:"11",cy:"11",r:"4",fill:"rgba(255,255,255,0.3)"})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-lg mb-1",style:{color:"#e8eaf0"},children:o.nickname}),o.rating>0&&e.jsxs("div",{className:"text-sm",style:{color:"#9aa1ad"},children:["레이팅: ",o.rating]}),e.jsx("div",{className:"text-sm",style:{color:"#9aa1ad"},children:o.color==="black"?"흑돌":"백돌"})]})]}),e.jsx("button",{onClick:N,disabled:!0,className:"w-full py-2 mb-3 rounded-lg font-semibold transition-all whitespace-nowrap border",style:{backgroundColor:"#141822",borderColor:"#2a2a33",color:"#9aa1ad",opacity:.5,cursor:"not-allowed"},children:"색 변경"}),(l&&o.id===1||!l&&o.id===2)&&o.nickname!=="대기 중..."?e.jsx("button",{onClick:j,className:"w-full py-2 rounded-lg font-semibold transition-all cursor-pointer whitespace-nowrap",style:{backgroundColor:o.ready?"#22c55e":"#141822",color:"#ffffff",border:o.ready?"none":"1px solid #2a2a33"},children:o.ready?"준비 완료":"준비하기"}):o.ready&&o.nickname!=="대기 중..."?e.jsx("div",{className:"text-center py-2 rounded-lg font-semibold",style:{backgroundColor:"#22c55e",color:"#ffffff"},children:"준비 완료"}):o.nickname==="대기 중..."?e.jsx("div",{className:"text-center py-2 rounded-lg",style:{backgroundColor:"#141822",color:"#9aa1ad"},children:"대기 중..."}):e.jsx("div",{className:"text-center py-2 rounded-lg",style:{backgroundColor:"#141822",color:"#9aa1ad"},children:"대기 중"})]},o.id))}),e.jsxs("div",{className:"rounded-xl p-6 border mb-6",style:{backgroundColor:"rgba(22,22,28,0.6)",borderColor:"#2a2a33"},children:[e.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:"#e8eaf0"},children:"게임 설정"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{style:{color:"#9aa1ad"},children:"게임 종류"}),e.jsx("span",{className:"font-semibold",style:{color:"#e8eaf0"},children:"바둑"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{style:{color:"#9aa1ad"},children:"메인 시간"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>u("mainTime",-1),disabled:!a,className:"w-8 h-8 rounded flex items-center justify-center cursor-pointer",style:{backgroundColor:a?"#141822":"#2a2a33",color:a?"#e8eaf0":"#9aa1ad",cursor:a?"pointer":"not-allowed"},children:"▼"}),e.jsx("input",{type:"text",value:y(m.mainTime),onChange:o=>a&&g("mainTime",o.target.value),disabled:!a,className:"w-28 px-3 py-2 rounded text-center font-semibold",style:{backgroundColor:a?"#141822":"#2a2a33",borderColor:"#2a2a33",color:a?"#e8eaf0":"#9aa1ad",border:"1px solid #2a2a33",cursor:a?"text":"not-allowed"}}),e.jsx("button",{onClick:()=>u("mainTime",1),disabled:!a,className:"w-8 h-8 rounded flex items-center justify-center cursor-pointer",style:{backgroundColor:a?"#141822":"#2a2a33",color:a?"#e8eaf0":"#9aa1ad",cursor:a?"pointer":"not-allowed"},children:"▲"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{style:{color:"#9aa1ad"},children:"초읽기 시간"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>u("byoyomiTime",-1),disabled:!a,className:"w-8 h-8 rounded flex items-center justify-center cursor-pointer",style:{backgroundColor:a?"#141822":"#2a2a33",color:a?"#e8eaf0":"#9aa1ad",cursor:a?"pointer":"not-allowed"},children:"▼"}),e.jsx("input",{type:"text",value:y(m.byoyomiTime),onChange:o=>a&&g("byoyomiTime",o.target.value),disabled:!a,className:"w-28 px-3 py-2 rounded text-center font-semibold",style:{backgroundColor:a?"#141822":"#2a2a33",borderColor:"#2a2a33",color:a?"#e8eaf0":"#9aa1ad",border:"1px solid #2a2a33",cursor:a?"text":"not-allowed"}}),e.jsx("button",{onClick:()=>u("byoyomiTime",1),disabled:!a,className:"w-8 h-8 rounded flex items-center justify-center cursor-pointer",style:{backgroundColor:a?"#141822":"#2a2a33",color:a?"#e8eaf0":"#9aa1ad",cursor:a?"pointer":"not-allowed"},children:"▲"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{style:{color:"#9aa1ad"},children:"초읽기 횟수"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>p(-1),disabled:!a,className:"w-8 h-8 rounded flex items-center justify-center cursor-pointer",style:{backgroundColor:a?"#141822":"#2a2a33",color:a?"#e8eaf0":"#9aa1ad",cursor:a?"pointer":"not-allowed"},children:"-"}),e.jsx("span",{className:"w-12 text-center font-semibold",style:{color:"#e8eaf0"},children:m.byoyomiCount}),e.jsx("button",{onClick:()=>p(1),disabled:!a,className:"w-8 h-8 rounded flex items-center justify-center cursor-pointer",style:{backgroundColor:a?"#141822":"#2a2a33",color:a?"#e8eaf0":"#9aa1ad",cursor:a?"pointer":"not-allowed"},children:"+"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("button",{onClick:k,disabled:!c,className:"py-4 rounded-lg font-semibold transition-all cursor-pointer whitespace-nowrap text-white",style:{background:c?"linear-gradient(180deg, #1f6feb, #1b4fd8)":"#2a2a33",boxShadow:c?"0 2px 8px rgba(0,0,0,0.3)":"none",opacity:c?1:.5,cursor:c?"pointer":"not-allowed"},children:"게임 시작"}),e.jsx("button",{onClick:w,className:"py-4 rounded-lg font-semibold transition-all cursor-pointer whitespace-nowrap",style:{backgroundColor:"#dc2626",color:"#ffffff"},children:"방 나가기"})]})]})})}export{E as default};
//# sourceMappingURL=page-Bljg8oA1.js.map
