# doljabi engine 설명

## 소스 파일 설명
bin = 실행 파일
    main 실행 파일과 debug 파일을 저장합니다.

game = 게임 관련 코드
    게임에 관한 규칙과 데이터를 생성하는 방식이 저장되어있습니다.
    badukboard = 바둑판을 사용하는 게임의 공통으로 들어가는 데이터와 함수
    dabuk, omok = 각각의 게임의 세부 규칙과 구현

network = 네트워킹
    클라이언트와 서버가 소통하기 위한 코드입니다.
    socket = 네트워크 통신의 기본 내용이 적혀있습니다.

utility = 이외 필수 코드
    게임과 클라이언트를 제외한 다른 필수 코드가 들어있습니다.
    room = 게임 대기 방과 게임 방 설정 (대기방과 게임방은 같은 데이터에 상태만 다름)
    rating = 레이팅 관련 처리

## 사용 중인 라이브러리
tokio = 비동기 함수 라이브러리 (자주 사용 됨)


## 실행 구조
bin::main -> {
    network,
    utility::room -> game::baduk, game::omok -> game::badukborad
} 

## 서비스 구조
사용자가 URL로 접속
web server에서 클라이언트 파일 전송
- 클라이언트의 기능
    1. 화면 그리기
    2. 어플리케이션 서버랑 Web Socket을 이용해 통신
    3. 사용자의 입력을 처리해 어플리케이션 서버로 보내기

클라이언트는 어플리케이션 서버로 접속 요청
어플리케이션 서버 접속 요청이 들어오면 TcpStream을 생성

접속에 성공하면 HashMap을 생성, ip주소를 키로 (ID, 유저 상태, tcp 통신 채널 주소)를 저장
    유저 상태가 Lobby인 사람들에겐 대기실 목록을 보내기
    방에 들어간 사람들은 방의 상태를 확인해 대기실 / 게임 중 으로 나뉨
    대기실에는 방에 있는 플레이어, 방 설정이 뜸
    게임 중일 땐 게임 진행

유저가 방을 만들거나 등급전 매칭이 잡히면 Room struct를 생성, 방 설정과 플레이어가 전부 들어오면 시작 가능
게임 시작시 Room 상태를 active로 변경하고 게임을 진행
유저 상태도 업데이트

게임 종료 시 rating 반영

- DB 기능
    1. ID, 로그인 정보 저장
    2. MMR 저장